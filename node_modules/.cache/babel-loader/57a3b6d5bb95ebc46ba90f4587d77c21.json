{"ast":null,"code":"/**\n * @fileoverview\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @author davidshimjs\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n */\nvar QRCode;\n\n(function () {\n  //---------------------------------------------------------------------\n  // QRCode for JavaScript\n  //\n  // Copyright (c) 2009 Kazuhiko Arase\n  //\n  // URL: http://www.d-project.com/\n  //\n  // Licensed under the MIT license:\n  //   http://www.opensource.org/licenses/mit-license.php\n  //\n  // The word \"QR Code\" is registered trademark of\n  // DENSO WAVE INCORPORATED\n  //   http://www.denso-wave.com/qrcode/faqpatent-e.html\n  //\n  //---------------------------------------------------------------------\n  function QR8bitByte(data) {\n    this.mode = QRMode.MODE_8BIT_BYTE;\n    this.data = data;\n    this.parsedData = []; // Added to support UTF-8 Characters\n\n    for (var i = 0, l = this.data.length; i < l; i++) {\n      var byteArray = [];\n      var code = this.data.charCodeAt(i);\n\n      if (code > 0x10000) {\n        byteArray[0] = 0xf0 | (code & 0x1c0000) >>> 18;\n        byteArray[1] = 0x80 | (code & 0x3f000) >>> 12;\n        byteArray[2] = 0x80 | (code & 0xfc0) >>> 6;\n        byteArray[3] = 0x80 | code & 0x3f;\n      } else if (code > 0x800) {\n        byteArray[0] = 0xe0 | (code & 0xf000) >>> 12;\n        byteArray[1] = 0x80 | (code & 0xfc0) >>> 6;\n        byteArray[2] = 0x80 | code & 0x3f;\n      } else if (code > 0x80) {\n        byteArray[0] = 0xc0 | (code & 0x7c0) >>> 6;\n        byteArray[1] = 0x80 | code & 0x3f;\n      } else {\n        byteArray[0] = code;\n      }\n\n      this.parsedData.push(byteArray);\n    }\n\n    this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n    if (this.parsedData.length != this.data.length) {\n      this.parsedData.unshift(191);\n      this.parsedData.unshift(187);\n      this.parsedData.unshift(239);\n    }\n  }\n\n  QR8bitByte.prototype = {\n    getLength: function (buffer) {\n      return this.parsedData.length;\n    },\n    write: function (buffer) {\n      for (var i = 0, l = this.parsedData.length; i < l; i++) {\n        buffer.put(this.parsedData[i], 8);\n      }\n    }\n  };\n\n  function QRCodeModel(typeNumber, errorCorrectLevel) {\n    this.typeNumber = typeNumber;\n    this.errorCorrectLevel = errorCorrectLevel;\n    this.modules = null;\n    this.moduleCount = 0;\n    this.dataCache = null;\n    this.dataList = [];\n  }\n\n  QRCodeModel.prototype = {\n    addData: function (data) {\n      var newData = new QR8bitByte(data);\n      this.dataList.push(newData);\n      this.dataCache = null;\n    },\n    isDark: function (row, col) {\n      if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n        throw new Error(row + \",\" + col);\n      }\n\n      return this.modules[row][col];\n    },\n    getModuleCount: function () {\n      return this.moduleCount;\n    },\n    make: function () {\n      this.makeImpl(false, this.getBestMaskPattern());\n    },\n    makeImpl: function (test, maskPattern) {\n      this.moduleCount = this.typeNumber * 4 + 17;\n      this.modules = new Array(this.moduleCount);\n\n      for (var row = 0; row < this.moduleCount; row++) {\n        this.modules[row] = new Array(this.moduleCount);\n\n        for (var col = 0; col < this.moduleCount; col++) {\n          this.modules[row][col] = null;\n        }\n      }\n\n      this.setupPositionProbePattern(0, 0);\n      this.setupPositionProbePattern(this.moduleCount - 7, 0);\n      this.setupPositionProbePattern(0, this.moduleCount - 7);\n      this.setupPositionAdjustPattern();\n      this.setupTimingPattern();\n      this.setupTypeInfo(test, maskPattern);\n\n      if (this.typeNumber >= 7) {\n        this.setupTypeNumber(test);\n      }\n\n      if (this.dataCache == null) {\n        this.dataCache = QRCodeModel.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n      }\n\n      this.mapData(this.dataCache, maskPattern);\n    },\n    setupPositionProbePattern: function (row, col) {\n      for (var r = -1; r <= 7; r++) {\n        if (row + r <= -1 || this.moduleCount <= row + r) continue;\n\n        for (var c = -1; c <= 7; c++) {\n          if (col + c <= -1 || this.moduleCount <= col + c) continue;\n\n          if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {\n            this.modules[row + r][col + c] = true;\n          } else {\n            this.modules[row + r][col + c] = false;\n          }\n        }\n      }\n    },\n    getBestMaskPattern: function () {\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i < 8; i++) {\n        this.makeImpl(true, i);\n        var lostPoint = QRUtil.getLostPoint(this);\n\n        if (i == 0 || minLostPoint > lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    },\n    createMovieClip: function (target_mc, instance_name, depth) {\n      var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n      var cs = 1;\n      this.make();\n\n      for (var row = 0; row < this.modules.length; row++) {\n        var y = row * cs;\n\n        for (var col = 0; col < this.modules[row].length; col++) {\n          var x = col * cs;\n          var dark = this.modules[row][col];\n\n          if (dark) {\n            qr_mc.beginFill(0, 100);\n            qr_mc.moveTo(x, y);\n            qr_mc.lineTo(x + cs, y);\n            qr_mc.lineTo(x + cs, y + cs);\n            qr_mc.lineTo(x, y + cs);\n            qr_mc.endFill();\n          }\n        }\n      }\n\n      return qr_mc;\n    },\n    setupTimingPattern: function () {\n      for (var r = 8; r < this.moduleCount - 8; r++) {\n        if (this.modules[r][6] != null) {\n          continue;\n        }\n\n        this.modules[r][6] = r % 2 == 0;\n      }\n\n      for (var c = 8; c < this.moduleCount - 8; c++) {\n        if (this.modules[6][c] != null) {\n          continue;\n        }\n\n        this.modules[6][c] = c % 2 == 0;\n      }\n    },\n    setupPositionAdjustPattern: function () {\n      var pos = QRUtil.getPatternPosition(this.typeNumber);\n\n      for (var i = 0; i < pos.length; i++) {\n        for (var j = 0; j < pos.length; j++) {\n          var row = pos[i];\n          var col = pos[j];\n\n          if (this.modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r <= 2; r++) {\n            for (var c = -2; c <= 2; c++) {\n              if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {\n                this.modules[row + r][col + c] = true;\n              } else {\n                this.modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    },\n    setupTypeNumber: function (test) {\n      var bits = QRUtil.getBCHTypeNumber(this.typeNumber);\n\n      for (var i = 0; i < 18; i++) {\n        var mod = !test && (bits >> i & 1) == 1;\n        this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i < 18; i++) {\n        var mod = !test && (bits >> i & 1) == 1;\n        this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    },\n    setupTypeInfo: function (test, maskPattern) {\n      var data = this.errorCorrectLevel << 3 | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      for (var i = 0; i < 15; i++) {\n        var mod = !test && (bits >> i & 1) == 1;\n\n        if (i < 6) {\n          this.modules[i][8] = mod;\n        } else if (i < 8) {\n          this.modules[i + 1][8] = mod;\n        } else {\n          this.modules[this.moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      for (var i = 0; i < 15; i++) {\n        var mod = !test && (bits >> i & 1) == 1;\n\n        if (i < 8) {\n          this.modules[8][this.moduleCount - i - 1] = mod;\n        } else if (i < 9) {\n          this.modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          this.modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      this.modules[this.moduleCount - 8][8] = !test;\n    },\n    mapData: function (data, maskPattern) {\n      var inc = -1;\n      var row = this.moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n\n      for (var col = this.moduleCount - 1; col > 0; col -= 2) {\n        if (col == 6) col--;\n\n        while (true) {\n          for (var c = 0; c < 2; c++) {\n            if (this.modules[row][col - c] == null) {\n              var dark = false;\n\n              if (byteIndex < data.length) {\n                dark = (data[byteIndex] >>> bitIndex & 1) == 1;\n              }\n\n              var mask = QRUtil.getMask(maskPattern, row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              this.modules[row][col - c] = dark;\n              bitIndex--;\n\n              if (bitIndex == -1) {\n                byteIndex++;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row < 0 || this.moduleCount <= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    }\n  };\n  QRCodeModel.PAD0 = 0xec;\n  QRCodeModel.PAD1 = 0x11;\n\n  QRCodeModel.createData = function (typeNumber, errorCorrectLevel, dataList) {\n    var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n    var buffer = new QRBitBuffer();\n\n    for (var i = 0; i < dataList.length; i++) {\n      var data = dataList[i];\n      buffer.put(data.mode, 4);\n      buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));\n      data.write(buffer);\n    }\n\n    var totalDataCount = 0;\n\n    for (var i = 0; i < rsBlocks.length; i++) {\n      totalDataCount += rsBlocks[i].dataCount;\n    }\n\n    if (buffer.getLengthInBits() > totalDataCount * 8) {\n      throw new Error(\"code length overflow. (\" + buffer.getLengthInBits() + \">\" + totalDataCount * 8 + \")\");\n    }\n\n    if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n      buffer.put(0, 4);\n    }\n\n    while (buffer.getLengthInBits() % 8 != 0) {\n      buffer.putBit(false);\n    }\n\n    while (true) {\n      if (buffer.getLengthInBits() >= totalDataCount * 8) {\n        break;\n      }\n\n      buffer.put(QRCodeModel.PAD0, 8);\n\n      if (buffer.getLengthInBits() >= totalDataCount * 8) {\n        break;\n      }\n\n      buffer.put(QRCodeModel.PAD1, 8);\n    }\n\n    return QRCodeModel.createBytes(buffer, rsBlocks);\n  };\n\n  QRCodeModel.createBytes = function (buffer, rsBlocks) {\n    var offset = 0;\n    var maxDcCount = 0;\n    var maxEcCount = 0;\n    var dcdata = new Array(rsBlocks.length);\n    var ecdata = new Array(rsBlocks.length);\n\n    for (var r = 0; r < rsBlocks.length; r++) {\n      var dcCount = rsBlocks[r].dataCount;\n      var ecCount = rsBlocks[r].totalCount - dcCount;\n      maxDcCount = Math.max(maxDcCount, dcCount);\n      maxEcCount = Math.max(maxEcCount, ecCount);\n      dcdata[r] = new Array(dcCount);\n\n      for (var i = 0; i < dcdata[r].length; i++) {\n        dcdata[r][i] = 0xff & buffer.buffer[i + offset];\n      }\n\n      offset += dcCount;\n      var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n      var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);\n      var modPoly = rawPoly.mod(rsPoly);\n      ecdata[r] = new Array(rsPoly.getLength() - 1);\n\n      for (var i = 0; i < ecdata[r].length; i++) {\n        var modIndex = i + modPoly.getLength() - ecdata[r].length;\n        ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;\n      }\n    }\n\n    var totalCodeCount = 0;\n\n    for (var i = 0; i < rsBlocks.length; i++) {\n      totalCodeCount += rsBlocks[i].totalCount;\n    }\n\n    var data = new Array(totalCodeCount);\n    var index = 0;\n\n    for (var i = 0; i < maxDcCount; i++) {\n      for (var r = 0; r < rsBlocks.length; r++) {\n        if (i < dcdata[r].length) {\n          data[index++] = dcdata[r][i];\n        }\n      }\n    }\n\n    for (var i = 0; i < maxEcCount; i++) {\n      for (var r = 0; r < rsBlocks.length; r++) {\n        if (i < ecdata[r].length) {\n          data[index++] = ecdata[r][i];\n        }\n      }\n    }\n\n    return data;\n  };\n\n  var QRMode = {\n    MODE_NUMBER: 1 << 0,\n    MODE_ALPHA_NUM: 1 << 1,\n    MODE_8BIT_BYTE: 1 << 2,\n    MODE_KANJI: 1 << 3\n  };\n  var QRErrorCorrectLevel = {\n    L: 1,\n    M: 0,\n    Q: 3,\n    H: 2\n  };\n  var QRMaskPattern = {\n    PATTERN000: 0,\n    PATTERN001: 1,\n    PATTERN010: 2,\n    PATTERN011: 3,\n    PATTERN100: 4,\n    PATTERN101: 5,\n    PATTERN110: 6,\n    PATTERN111: 7\n  };\n  var QRUtil = {\n    PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],\n    G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0,\n    G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0,\n    G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1,\n    getBCHTypeInfo: function (data) {\n      var d = data << 10;\n\n      while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n        d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);\n      }\n\n      return (data << 10 | d) ^ QRUtil.G15_MASK;\n    },\n    getBCHTypeNumber: function (data) {\n      var d = data << 12;\n\n      while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n        d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);\n      }\n\n      return data << 12 | d;\n    },\n    getBCHDigit: function (data) {\n      var digit = 0;\n\n      while (data != 0) {\n        digit++;\n        data >>>= 1;\n      }\n\n      return digit;\n    },\n    getPatternPosition: function (typeNumber) {\n      return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n    getMask: function (maskPattern, i, j) {\n      switch (maskPattern) {\n        case QRMaskPattern.PATTERN000:\n          return (i + j) % 2 == 0;\n\n        case QRMaskPattern.PATTERN001:\n          return i % 2 == 0;\n\n        case QRMaskPattern.PATTERN010:\n          return j % 3 == 0;\n\n        case QRMaskPattern.PATTERN011:\n          return (i + j) % 3 == 0;\n\n        case QRMaskPattern.PATTERN100:\n          return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\n\n        case QRMaskPattern.PATTERN101:\n          return i * j % 2 + i * j % 3 == 0;\n\n        case QRMaskPattern.PATTERN110:\n          return (i * j % 2 + i * j % 3) % 2 == 0;\n\n        case QRMaskPattern.PATTERN111:\n          return (i * j % 3 + (i + j) % 2) % 2 == 0;\n\n        default:\n          throw new Error(\"bad maskPattern:\" + maskPattern);\n      }\n    },\n    getErrorCorrectPolynomial: function (errorCorrectLength) {\n      var a = new QRPolynomial([1], 0);\n\n      for (var i = 0; i < errorCorrectLength; i++) {\n        a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0));\n      }\n\n      return a;\n    },\n    getLengthInBits: function (mode, type) {\n      if (1 <= type && type < 10) {\n        switch (mode) {\n          case QRMode.MODE_NUMBER:\n            return 10;\n\n          case QRMode.MODE_ALPHA_NUM:\n            return 9;\n\n          case QRMode.MODE_8BIT_BYTE:\n            return 8;\n\n          case QRMode.MODE_KANJI:\n            return 8;\n\n          default:\n            throw new Error(\"mode:\" + mode);\n        }\n      } else if (type < 27) {\n        switch (mode) {\n          case QRMode.MODE_NUMBER:\n            return 12;\n\n          case QRMode.MODE_ALPHA_NUM:\n            return 11;\n\n          case QRMode.MODE_8BIT_BYTE:\n            return 16;\n\n          case QRMode.MODE_KANJI:\n            return 10;\n\n          default:\n            throw new Error(\"mode:\" + mode);\n        }\n      } else if (type < 41) {\n        switch (mode) {\n          case QRMode.MODE_NUMBER:\n            return 14;\n\n          case QRMode.MODE_ALPHA_NUM:\n            return 13;\n\n          case QRMode.MODE_8BIT_BYTE:\n            return 16;\n\n          case QRMode.MODE_KANJI:\n            return 12;\n\n          default:\n            throw new Error(\"mode:\" + mode);\n        }\n      } else {\n        throw new Error(\"type:\" + type);\n      }\n    },\n    getLostPoint: function (qrCode) {\n      var moduleCount = qrCode.getModuleCount();\n      var lostPoint = 0;\n\n      for (var row = 0; row < moduleCount; row++) {\n        for (var col = 0; col < moduleCount; col++) {\n          var sameCount = 0;\n          var dark = qrCode.isDark(row, col);\n\n          for (var r = -1; r <= 1; r++) {\n            if (row + r < 0 || moduleCount <= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c <= 1; c++) {\n              if (col + c < 0 || moduleCount <= col + c) {\n                continue;\n              }\n\n              if (r == 0 && c == 0) {\n                continue;\n              }\n\n              if (dark == qrCode.isDark(row + r, col + c)) {\n                sameCount++;\n              }\n            }\n          }\n\n          if (sameCount > 5) {\n            lostPoint += 3 + sameCount - 5;\n          }\n        }\n      }\n\n      for (var row = 0; row < moduleCount - 1; row++) {\n        for (var col = 0; col < moduleCount - 1; col++) {\n          var count = 0;\n          if (qrCode.isDark(row, col)) count++;\n          if (qrCode.isDark(row + 1, col)) count++;\n          if (qrCode.isDark(row, col + 1)) count++;\n          if (qrCode.isDark(row + 1, col + 1)) count++;\n\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      for (var row = 0; row < moduleCount; row++) {\n        for (var col = 0; col < moduleCount - 6; col++) {\n          if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col < moduleCount; col++) {\n        for (var row = 0; row < moduleCount - 6; row++) {\n          if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      var darkCount = 0;\n\n      for (var col = 0; col < moduleCount; col++) {\n        for (var row = 0; row < moduleCount; row++) {\n          if (qrCode.isDark(row, col)) {\n            darkCount++;\n          }\n        }\n      }\n\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n      return lostPoint;\n    }\n  };\n  var QRMath = {\n    glog: function (n) {\n      if (n < 1) {\n        throw new Error(\"glog(\" + n + \")\");\n      }\n\n      return QRMath.LOG_TABLE[n];\n    },\n    gexp: function (n) {\n      while (n < 0) {\n        n += 255;\n      }\n\n      while (n >= 256) {\n        n -= 255;\n      }\n\n      return QRMath.EXP_TABLE[n];\n    },\n    EXP_TABLE: new Array(256),\n    LOG_TABLE: new Array(256)\n  };\n\n  for (var i = 0; i < 8; i++) {\n    QRMath.EXP_TABLE[i] = 1 << i;\n  }\n\n  for (var i = 8; i < 256; i++) {\n    QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];\n  }\n\n  for (var i = 0; i < 255; i++) {\n    QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;\n  }\n\n  function QRPolynomial(num, shift) {\n    if (num.length == undefined) {\n      throw new Error(num.length + \"/\" + shift);\n    }\n\n    var offset = 0;\n\n    while (offset < num.length && num[offset] == 0) {\n      offset++;\n    }\n\n    this.num = new Array(num.length - offset + shift);\n\n    for (var i = 0; i < num.length - offset; i++) {\n      this.num[i] = num[i + offset];\n    }\n  }\n\n  QRPolynomial.prototype = {\n    get: function (index) {\n      return this.num[index];\n    },\n    getLength: function () {\n      return this.num.length;\n    },\n    multiply: function (e) {\n      var num = new Array(this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i < this.getLength(); i++) {\n        for (var j = 0; j < e.getLength(); j++) {\n          num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j)));\n        }\n      }\n\n      return new QRPolynomial(num, 0);\n    },\n    mod: function (e) {\n      if (this.getLength() - e.getLength() < 0) {\n        return this;\n      }\n\n      var ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0));\n      var num = new Array(this.getLength());\n\n      for (var i = 0; i < this.getLength(); i++) {\n        num[i] = this.get(i);\n      }\n\n      for (var i = 0; i < e.getLength(); i++) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio);\n      }\n\n      return new QRPolynomial(num, 0).mod(e);\n    }\n  };\n\n  function QRRSBlock(totalCount, dataCount) {\n    this.totalCount = totalCount;\n    this.dataCount = dataCount;\n  }\n\n  QRRSBlock.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];\n\n  QRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {\n    var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\n    if (rsBlock == undefined) {\n      throw new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n    }\n\n    var length = rsBlock.length / 3;\n    var list = [];\n\n    for (var i = 0; i < length; i++) {\n      var count = rsBlock[i * 3 + 0];\n      var totalCount = rsBlock[i * 3 + 1];\n      var dataCount = rsBlock[i * 3 + 2];\n\n      for (var j = 0; j < count; j++) {\n        list.push(new QRRSBlock(totalCount, dataCount));\n      }\n    }\n\n    return list;\n  };\n\n  QRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {\n    switch (errorCorrectLevel) {\n      case QRErrorCorrectLevel.L:\n        return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\n      case QRErrorCorrectLevel.M:\n        return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\n      case QRErrorCorrectLevel.Q:\n        return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\n      case QRErrorCorrectLevel.H:\n        return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\n      default:\n        return undefined;\n    }\n  };\n\n  function QRBitBuffer() {\n    this.buffer = [];\n    this.length = 0;\n  }\n\n  QRBitBuffer.prototype = {\n    get: function (index) {\n      var bufIndex = Math.floor(index / 8);\n      return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;\n    },\n    put: function (num, length) {\n      for (var i = 0; i < length; i++) {\n        this.putBit((num >>> length - i - 1 & 1) == 1);\n      }\n    },\n    getLengthInBits: function () {\n      return this.length;\n    },\n    putBit: function (bit) {\n      var bufIndex = Math.floor(this.length / 8);\n\n      if (this.buffer.length <= bufIndex) {\n        this.buffer.push(0);\n      }\n\n      if (bit) {\n        this.buffer[bufIndex] |= 0x80 >>> this.length % 8;\n      }\n\n      this.length++;\n    }\n  };\n  var QRCodeLimitLength = [[17, 14, 11, 7], [32, 26, 20, 14], [53, 42, 32, 24], [78, 62, 46, 34], [106, 84, 60, 44], [134, 106, 74, 58], [154, 122, 86, 64], [192, 152, 108, 84], [230, 180, 130, 98], [271, 213, 151, 119], [321, 251, 177, 137], [367, 287, 203, 155], [425, 331, 241, 177], [458, 362, 258, 194], [520, 412, 292, 220], [586, 450, 322, 250], [644, 504, 364, 280], [718, 560, 394, 310], [792, 624, 442, 338], [858, 666, 482, 382], [929, 711, 509, 403], [1003, 779, 565, 439], [1091, 857, 611, 461], [1171, 911, 661, 511], [1273, 997, 715, 535], [1367, 1059, 751, 593], [1465, 1125, 805, 625], [1528, 1190, 868, 658], [1628, 1264, 908, 698], [1732, 1370, 982, 742], [1840, 1452, 1030, 790], [1952, 1538, 1112, 842], [2068, 1628, 1168, 898], [2188, 1722, 1228, 958], [2303, 1809, 1283, 983], [2431, 1911, 1351, 1051], [2563, 1989, 1423, 1093], [2699, 2099, 1499, 1139], [2809, 2213, 1579, 1219], [2953, 2331, 1663, 1273]];\n\n  function _isSupportCanvas() {\n    return typeof CanvasRenderingContext2D != \"undefined\";\n  } // android 2.x doesn't support Data-URI spec\n\n\n  function _getAndroid() {\n    var android = false;\n    var sAgent = navigator.userAgent;\n\n    if (/android/i.test(sAgent)) {\n      // android\n      android = true;\n      var aMat = sAgent.toString().match(/android ([0-9]\\.[0-9])/i);\n\n      if (aMat && aMat[1]) {\n        android = parseFloat(aMat[1]);\n      }\n    }\n\n    return android;\n  }\n\n  var svgDrawer = function () {\n    var Drawing = function (el, htOption) {\n      this._el = el;\n      this._htOption = htOption;\n    };\n\n    Drawing.prototype.draw = function (oQRCode) {\n      var _htOption = this._htOption;\n      var _el = this._el;\n      var nCount = oQRCode.getModuleCount();\n      var nWidth = Math.floor(_htOption.width / nCount);\n      var nHeight = Math.floor(_htOption.height / nCount);\n      this.clear();\n\n      function makeSVG(tag, attrs) {\n        var el = document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n\n        for (var k in attrs) if (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k]);\n\n        return el;\n      }\n\n      var svg = makeSVG(\"svg\", {\n        viewBox: \"0 0 \" + String(nCount) + \" \" + String(nCount),\n        width: \"100%\",\n        height: \"100%\",\n        fill: _htOption.colorLight\n      });\n      svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n\n      _el.appendChild(svg);\n\n      svg.appendChild(makeSVG(\"rect\", {\n        fill: _htOption.colorLight,\n        width: \"100%\",\n        height: \"100%\"\n      }));\n      svg.appendChild(makeSVG(\"rect\", {\n        fill: _htOption.colorDark,\n        width: \"1\",\n        height: \"1\",\n        id: \"template\"\n      }));\n\n      for (var row = 0; row < nCount; row++) {\n        for (var col = 0; col < nCount; col++) {\n          if (oQRCode.isDark(row, col)) {\n            var child = makeSVG(\"use\", {\n              x: String(col),\n              y: String(row)\n            });\n            child.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", \"#template\");\n            svg.appendChild(child);\n          }\n        }\n      }\n    };\n\n    Drawing.prototype.clear = function () {\n      while (this._el.hasChildNodes()) this._el.removeChild(this._el.lastChild);\n    };\n\n    return Drawing;\n  }();\n\n  var useSVG = document.documentElement.tagName.toLowerCase() === \"svg\"; // Drawing in DOM by using Table tag\n\n  var Drawing = useSVG ? svgDrawer : !_isSupportCanvas() ? function () {\n    var Drawing = function (el, htOption) {\n      this._el = el;\n      this._htOption = htOption;\n    };\n    /**\n     * Draw the QRCode\n     *\n     * @param {QRCode} oQRCode\n     */\n\n\n    Drawing.prototype.draw = function (oQRCode) {\n      var _htOption = this._htOption;\n      var _el = this._el;\n      var nCount = oQRCode.getModuleCount();\n      var nWidth = Math.floor(_htOption.width / nCount);\n      var nHeight = Math.floor(_htOption.height / nCount);\n      var aHTML = ['<table style=\"border:0;border-collapse:collapse;\">'];\n\n      for (var row = 0; row < nCount; row++) {\n        aHTML.push(\"<tr>\");\n\n        for (var col = 0; col < nCount; col++) {\n          aHTML.push('<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:' + nWidth + \"px;height:\" + nHeight + \"px;background-color:\" + (oQRCode.isDark(row, col) ? _htOption.colorDark : _htOption.colorLight) + ';\"></td>');\n        }\n\n        aHTML.push(\"</tr>\");\n      }\n\n      aHTML.push(\"</table>\");\n      _el.innerHTML = aHTML.join(\"\"); // Fix the margin values as real size.\n\n      var elTable = _el.childNodes[0];\n      var nLeftMarginTable = (_htOption.width - elTable.offsetWidth) / 2;\n      var nTopMarginTable = (_htOption.height - elTable.offsetHeight) / 2;\n\n      if (nLeftMarginTable > 0 && nTopMarginTable > 0) {\n        elTable.style.margin = nTopMarginTable + \"px \" + nLeftMarginTable + \"px\";\n      }\n    };\n    /**\n     * Clear the QRCode\n     */\n\n\n    Drawing.prototype.clear = function () {\n      this._el.innerHTML = \"\";\n    };\n\n    return Drawing;\n  }() : function () {\n    // Drawing in Canvas\n    function _onMakeImage() {\n      this._elImage.src = this._elCanvas.toDataURL(\"image/png\");\n      this._elImage.style.display = \"block\";\n      this._elCanvas.style.display = \"none\";\n    } // Android 2.1 bug workaround\n    // http://code.google.com/p/android/issues/detail?id=5141\n\n\n    if (this._android && this._android <= 2.1) {\n      var factor = 1 / window.devicePixelRatio;\n      var drawImage = CanvasRenderingContext2D.prototype.drawImage;\n\n      CanvasRenderingContext2D.prototype.drawImage = function (image, sx, sy, sw, sh, dx, dy, dw, dh) {\n        if (\"nodeName\" in image && /img/i.test(image.nodeName)) {\n          for (var i = arguments.length - 1; i >= 1; i--) {\n            arguments[i] = arguments[i] * factor;\n          }\n        } else if (typeof dw == \"undefined\") {\n          arguments[1] *= factor;\n          arguments[2] *= factor;\n          arguments[3] *= factor;\n          arguments[4] *= factor;\n        }\n\n        drawImage.apply(this, arguments);\n      };\n    }\n    /**\n     * Check whether the user's browser supports Data URI or not\n     *\n     * @private\n     * @param {Function} fSuccess Occurs if it supports Data URI\n     * @param {Function} fFail Occurs if it doesn't support Data URI\n     */\n\n\n    function _safeSetDataURI(fSuccess, fFail) {\n      var self = this;\n      self._fFail = fFail;\n      self._fSuccess = fSuccess; // Check it just once\n\n      if (self._bSupportDataURI === null) {\n        var el = document.createElement(\"img\");\n\n        var fOnError = function () {\n          self._bSupportDataURI = false;\n\n          if (self._fFail) {\n            self._fFail.call(self);\n          }\n        };\n\n        var fOnSuccess = function () {\n          self._bSupportDataURI = true;\n\n          if (self._fSuccess) {\n            self._fSuccess.call(self);\n          }\n        };\n\n        el.onabort = fOnError;\n        el.onerror = fOnError;\n        el.onload = fOnSuccess;\n        el.src = \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\"; // the Image contains 1px data.\n\n        return;\n      } else if (self._bSupportDataURI === true && self._fSuccess) {\n        self._fSuccess.call(self);\n      } else if (self._bSupportDataURI === false && self._fFail) {\n        self._fFail.call(self);\n      }\n    }\n    /**\n     * Drawing QRCode by using canvas\n     *\n     * @constructor\n     * @param {HTMLElement} el\n     * @param {Object} htOption QRCode Options\n     */\n\n\n    var Drawing = function (el, htOption) {\n      this._bIsPainted = false;\n      this._android = _getAndroid();\n      this._htOption = htOption;\n      this._elCanvas = document.createElement(\"canvas\");\n      this._elCanvas.width = htOption.width;\n      this._elCanvas.height = htOption.height;\n      el.appendChild(this._elCanvas);\n      this._el = el;\n      this._oContext = this._elCanvas.getContext(\"2d\");\n      this._bIsPainted = false;\n      this._elImage = document.createElement(\"img\");\n      this._elImage.alt = \"Scan me!\";\n      this._elImage.style.display = \"none\";\n\n      this._el.appendChild(this._elImage);\n\n      this._bSupportDataURI = null;\n    };\n    /**\n     * Draw the QRCode\n     *\n     * @param {QRCode} oQRCode\n     */\n\n\n    Drawing.prototype.draw = function (oQRCode) {\n      var _elImage = this._elImage;\n      var _oContext = this._oContext;\n      var _htOption = this._htOption;\n      var nCount = oQRCode.getModuleCount();\n      var nWidth = _htOption.width / nCount;\n      var nHeight = _htOption.height / nCount;\n      var nRoundedWidth = Math.round(nWidth);\n      var nRoundedHeight = Math.round(nHeight);\n      _elImage.style.display = \"none\";\n      this.clear();\n\n      for (var row = 0; row < nCount; row++) {\n        for (var col = 0; col < nCount; col++) {\n          var bIsDark = oQRCode.isDark(row, col);\n          var nLeft = col * nWidth;\n          var nTop = row * nHeight;\n          _oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n          _oContext.lineWidth = 1;\n          _oContext.fillStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n\n          _oContext.fillRect(nLeft, nTop, nWidth, nHeight); // 안티 앨리어싱 방지 처리\n\n\n          _oContext.strokeRect(Math.floor(nLeft) + 0.5, Math.floor(nTop) + 0.5, nRoundedWidth, nRoundedHeight);\n\n          _oContext.strokeRect(Math.ceil(nLeft) - 0.5, Math.ceil(nTop) - 0.5, nRoundedWidth, nRoundedHeight);\n        }\n      }\n\n      this._bIsPainted = true;\n    };\n    /**\n     * Make the image from Canvas if the browser supports Data URI.\n     */\n\n\n    Drawing.prototype.makeImage = function () {\n      if (this._bIsPainted) {\n        _safeSetDataURI.call(this, _onMakeImage);\n      }\n    };\n    /**\n     * Return whether the QRCode is painted or not\n     *\n     * @return {Boolean}\n     */\n\n\n    Drawing.prototype.isPainted = function () {\n      return this._bIsPainted;\n    };\n    /**\n     * Clear the QRCode\n     */\n\n\n    Drawing.prototype.clear = function () {\n      this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height);\n\n      this._bIsPainted = false;\n    };\n    /**\n     * @private\n     * @param {Number} nNumber\n     */\n\n\n    Drawing.prototype.round = function (nNumber) {\n      if (!nNumber) {\n        return nNumber;\n      }\n\n      return Math.floor(nNumber * 1000) / 1000;\n    };\n\n    return Drawing;\n  }();\n  /**\n   * Get the type by string length\n   *\n   * @private\n   * @param {String} sText\n   * @param {Number} nCorrectLevel\n   * @return {Number} type\n   */\n\n  function _getTypeNumber(sText, nCorrectLevel) {\n    var nType = 1;\n\n    var length = _getUTF8Length(sText);\n\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n      var nLimit = 0;\n\n      switch (nCorrectLevel) {\n        case QRErrorCorrectLevel.L:\n          nLimit = QRCodeLimitLength[i][0];\n          break;\n\n        case QRErrorCorrectLevel.M:\n          nLimit = QRCodeLimitLength[i][1];\n          break;\n\n        case QRErrorCorrectLevel.Q:\n          nLimit = QRCodeLimitLength[i][2];\n          break;\n\n        case QRErrorCorrectLevel.H:\n          nLimit = QRCodeLimitLength[i][3];\n          break;\n      }\n\n      if (length <= nLimit) {\n        break;\n      } else {\n        nType++;\n      }\n    }\n\n    if (nType > QRCodeLimitLength.length) {\n      throw new Error(\"Too long data\");\n    }\n\n    return nType;\n  }\n\n  function _getUTF8Length(sText) {\n    var replacedText = encodeURI(sText).toString().replace(/\\%[0-9a-fA-F]{2}/g, \"a\");\n    return replacedText.length + (replacedText.length != sText ? 3 : 0);\n  }\n  /**\n   * @class QRCode\n   * @constructor\n   * @example\n   * new QRCode(document.getElementById(\"test\"), \"http://jindo.dev.naver.com/collie\");\n   *\n   * @example\n   * var oQRCode = new QRCode(\"test\", {\n   *    text : \"http://naver.com\",\n   *    width : 128,\n   *    height : 128\n   * });\n   *\n   * oQRCode.clear(); // Clear the QRCode.\n   * oQRCode.makeCode(\"http://map.naver.com\"); // Re-create the QRCode.\n   *\n   * @param {HTMLElement|String} el target element or 'id' attribute of element.\n   * @param {Object|String} vOption\n   * @param {String} vOption.text QRCode link data\n   * @param {Number} [vOption.width=256]\n   * @param {Number} [vOption.height=256]\n   * @param {String} [vOption.colorDark=\"#000000\"]\n   * @param {String} [vOption.colorLight=\"#ffffff\"]\n   * @param {QRCode.CorrectLevel} [vOption.correctLevel=QRCode.CorrectLevel.H] [L|M|Q|H]\n   */\n\n\n  QRCode = function (el, vOption) {\n    this._htOption = {\n      width: 256,\n      height: 256,\n      typeNumber: 4,\n      colorDark: \"#000000\",\n      colorLight: \"#ffffff\",\n      correctLevel: QRErrorCorrectLevel.H\n    };\n\n    if (typeof vOption === \"string\") {\n      vOption = {\n        text: vOption\n      };\n    } // Overwrites options\n\n\n    if (vOption) {\n      for (var i in vOption) {\n        this._htOption[i] = vOption[i];\n      }\n    }\n\n    if (typeof el == \"string\") {\n      el = document.getElementById(el);\n    }\n\n    if (this._htOption.useSVG) {\n      Drawing = svgDrawer;\n    }\n\n    this._android = _getAndroid();\n    this._el = el;\n    this._oQRCode = null;\n    this._oDrawing = new Drawing(this._el, this._htOption);\n\n    if (this._htOption.text) {\n      this.makeCode(this._htOption.text);\n    }\n  };\n  /**\n   * Make the QRCode\n   *\n   * @param {String} sText link data\n   */\n\n\n  QRCode.prototype.makeCode = function (sText) {\n    this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel);\n\n    this._oQRCode.addData(sText);\n\n    this._oQRCode.make();\n\n    this._el.title = sText;\n\n    this._oDrawing.draw(this._oQRCode);\n\n    this.makeImage();\n  };\n  /**\n   * Make the Image from Canvas element\n   * - It occurs automatically\n   * - Android below 3 doesn't support Data-URI spec.\n   *\n   * @private\n   */\n\n\n  QRCode.prototype.makeImage = function () {\n    if (typeof this._oDrawing.makeImage == \"function\" && (!this._android || this._android >= 3)) {\n      this._oDrawing.makeImage();\n    }\n  };\n  /**\n   * Clear the QRCode\n   */\n\n\n  QRCode.prototype.clear = function () {\n    this._oDrawing.clear();\n  };\n  /**\n   * @name QRCode.CorrectLevel\n   */\n\n\n  QRCode.CorrectLevel = QRErrorCorrectLevel;\n})();","map":{"version":3,"sources":["/Users/robinyzewyn/Documents/Howest/Jaar3/Development/Passion_Project/Project/client/src/components/qrcode.js"],"names":["QRCode","QR8bitByte","data","mode","QRMode","MODE_8BIT_BYTE","parsedData","i","l","length","byteArray","code","charCodeAt","push","Array","prototype","concat","apply","unshift","getLength","buffer","write","put","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","addData","newData","isDark","row","col","Error","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","y","x","dark","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","j","bits","getBCHTypeNumber","mod","Math","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","get","totalCodeCount","index","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","type","qrCode","sameCount","count","darkCount","ratio","abs","glog","n","LOG_TABLE","EXP_TABLE","num","shift","undefined","e","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","_isSupportCanvas","CanvasRenderingContext2D","_getAndroid","android","sAgent","navigator","userAgent","aMat","toString","match","parseFloat","svgDrawer","Drawing","el","htOption","_el","_htOption","draw","oQRCode","nCount","nWidth","width","nHeight","height","clear","makeSVG","tag","attrs","document","createElementNS","k","hasOwnProperty","setAttribute","svg","viewBox","String","fill","colorLight","setAttributeNS","appendChild","colorDark","id","child","hasChildNodes","removeChild","lastChild","useSVG","documentElement","tagName","toLowerCase","aHTML","innerHTML","join","elTable","childNodes","nLeftMarginTable","offsetWidth","nTopMarginTable","offsetHeight","style","margin","_onMakeImage","_elImage","src","_elCanvas","toDataURL","display","_android","factor","window","devicePixelRatio","drawImage","image","sx","sy","sw","sh","dx","dy","dw","dh","nodeName","arguments","_safeSetDataURI","fSuccess","fFail","self","_fFail","_fSuccess","_bSupportDataURI","createElement","fOnError","call","fOnSuccess","onabort","onerror","onload","_bIsPainted","_oContext","getContext","alt","nRoundedWidth","round","nRoundedHeight","bIsDark","nLeft","nTop","strokeStyle","lineWidth","fillStyle","fillRect","strokeRect","ceil","makeImage","isPainted","clearRect","nNumber","_getTypeNumber","sText","nCorrectLevel","nType","_getUTF8Length","len","nLimit","replacedText","encodeURI","replace","vOption","correctLevel","text","getElementById","_oQRCode","_oDrawing","makeCode","title","CorrectLevel"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,MAAJ;;AAEA,CAAC,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAASC,UAAT,CAAoBC,IAApB,EAA0B;AACzB,SAAKC,IAAL,GAAYC,MAAM,CAACC,cAAnB;AACA,SAAKH,IAAL,GAAYA,IAAZ;AACA,SAAKI,UAAL,GAAkB,EAAlB,CAHyB,CAKzB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKN,IAAL,CAAUO,MAA9B,EAAsCF,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAkD;AACjD,UAAIG,SAAS,GAAG,EAAhB;AACA,UAAIC,IAAI,GAAG,KAAKT,IAAL,CAAUU,UAAV,CAAqBL,CAArB,CAAX;;AAEA,UAAII,IAAI,GAAG,OAAX,EAAoB;AACnBD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQ,CAACC,IAAI,GAAG,QAAR,MAAsB,EAA7C;AACAD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQ,CAACC,IAAI,GAAG,OAAR,MAAqB,EAA5C;AACAD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQ,CAACC,IAAI,GAAG,KAAR,MAAmB,CAA1C;AACAD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQC,IAAI,GAAG,IAA9B;AACA,OALD,MAKO,IAAIA,IAAI,GAAG,KAAX,EAAkB;AACxBD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQ,CAACC,IAAI,GAAG,MAAR,MAAoB,EAA3C;AACAD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQ,CAACC,IAAI,GAAG,KAAR,MAAmB,CAA1C;AACAD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQC,IAAI,GAAG,IAA9B;AACA,OAJM,MAIA,IAAIA,IAAI,GAAG,IAAX,EAAiB;AACvBD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQ,CAACC,IAAI,GAAG,KAAR,MAAmB,CAA1C;AACAD,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAe,OAAQC,IAAI,GAAG,IAA9B;AACA,OAHM,MAGA;AACND,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAeC,IAAf;AACA;;AAED,WAAKL,UAAL,CAAgBO,IAAhB,CAAqBH,SAArB;AACA;;AAED,SAAKJ,UAAL,GAAkBQ,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B,EAA7B,EAAiC,KAAKX,UAAtC,CAAlB;;AAEA,QAAI,KAAKA,UAAL,CAAgBG,MAAhB,IAA0B,KAAKP,IAAL,CAAUO,MAAxC,EAAgD;AAC/C,WAAKH,UAAL,CAAgBY,OAAhB,CAAwB,GAAxB;AACA,WAAKZ,UAAL,CAAgBY,OAAhB,CAAwB,GAAxB;AACA,WAAKZ,UAAL,CAAgBY,OAAhB,CAAwB,GAAxB;AACA;AACD;;AAEDjB,EAAAA,UAAU,CAACc,SAAX,GAAuB;AACtBI,IAAAA,SAAS,EAAE,UAAUC,MAAV,EAAkB;AAC5B,aAAO,KAAKd,UAAL,CAAgBG,MAAvB;AACA,KAHqB;AAItBY,IAAAA,KAAK,EAAE,UAAUD,MAAV,EAAkB;AACxB,WAAK,IAAIb,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKF,UAAL,CAAgBG,MAApC,EAA4CF,CAAC,GAAGC,CAAhD,EAAmDD,CAAC,EAApD,EAAwD;AACvDa,QAAAA,MAAM,CAACE,GAAP,CAAW,KAAKhB,UAAL,CAAgBC,CAAhB,CAAX,EAA+B,CAA/B;AACA;AACD;AARqB,GAAvB;;AAWA,WAASgB,WAAT,CAAqBC,UAArB,EAAiCC,iBAAjC,EAAoD;AACnD,SAAKD,UAAL,GAAkBA,UAAlB;AACA,SAAKC,iBAAL,GAAyBA,iBAAzB;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA;;AAEDN,EAAAA,WAAW,CAACR,SAAZ,GAAwB;AACvBe,IAAAA,OAAO,EAAE,UAAU5B,IAAV,EAAgB;AACxB,UAAI6B,OAAO,GAAG,IAAI9B,UAAJ,CAAeC,IAAf,CAAd;AACA,WAAK2B,QAAL,CAAchB,IAAd,CAAmBkB,OAAnB;AACA,WAAKH,SAAL,GAAiB,IAAjB;AACA,KALsB;AAMvBI,IAAAA,MAAM,EAAE,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC3B,UACCD,GAAG,GAAG,CAAN,IACA,KAAKN,WAAL,IAAoBM,GADpB,IAEAC,GAAG,GAAG,CAFN,IAGA,KAAKP,WAAL,IAAoBO,GAJrB,EAKE;AACD,cAAM,IAAIC,KAAJ,CAAUF,GAAG,GAAG,GAAN,GAAYC,GAAtB,CAAN;AACA;;AACD,aAAO,KAAKR,OAAL,CAAaO,GAAb,EAAkBC,GAAlB,CAAP;AACA,KAhBsB;AAiBvBE,IAAAA,cAAc,EAAE,YAAY;AAC3B,aAAO,KAAKT,WAAZ;AACA,KAnBsB;AAoBvBU,IAAAA,IAAI,EAAE,YAAY;AACjB,WAAKC,QAAL,CAAc,KAAd,EAAqB,KAAKC,kBAAL,EAArB;AACA,KAtBsB;AAuBvBD,IAAAA,QAAQ,EAAE,UAAUE,IAAV,EAAgBC,WAAhB,EAA6B;AACtC,WAAKd,WAAL,GAAmB,KAAKH,UAAL,GAAkB,CAAlB,GAAsB,EAAzC;AACA,WAAKE,OAAL,GAAe,IAAIZ,KAAJ,CAAU,KAAKa,WAAf,CAAf;;AACA,WAAK,IAAIM,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAKN,WAA7B,EAA0CM,GAAG,EAA7C,EAAiD;AAChD,aAAKP,OAAL,CAAaO,GAAb,IAAoB,IAAInB,KAAJ,CAAU,KAAKa,WAAf,CAApB;;AACA,aAAK,IAAIO,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAKP,WAA7B,EAA0CO,GAAG,EAA7C,EAAiD;AAChD,eAAKR,OAAL,CAAaO,GAAb,EAAkBC,GAAlB,IAAyB,IAAzB;AACA;AACD;;AACD,WAAKQ,yBAAL,CAA+B,CAA/B,EAAkC,CAAlC;AACA,WAAKA,yBAAL,CAA+B,KAAKf,WAAL,GAAmB,CAAlD,EAAqD,CAArD;AACA,WAAKe,yBAAL,CAA+B,CAA/B,EAAkC,KAAKf,WAAL,GAAmB,CAArD;AACA,WAAKgB,0BAAL;AACA,WAAKC,kBAAL;AACA,WAAKC,aAAL,CAAmBL,IAAnB,EAAyBC,WAAzB;;AACA,UAAI,KAAKjB,UAAL,IAAmB,CAAvB,EAA0B;AACzB,aAAKsB,eAAL,CAAqBN,IAArB;AACA;;AACD,UAAI,KAAKZ,SAAL,IAAkB,IAAtB,EAA4B;AAC3B,aAAKA,SAAL,GAAiBL,WAAW,CAACwB,UAAZ,CAChB,KAAKvB,UADW,EAEhB,KAAKC,iBAFW,EAGhB,KAAKI,QAHW,CAAjB;AAKA;;AACD,WAAKmB,OAAL,CAAa,KAAKpB,SAAlB,EAA6Ba,WAA7B;AACA,KAjDsB;AAkDvBC,IAAAA,yBAAyB,EAAE,UAAUT,GAAV,EAAeC,GAAf,EAAoB;AAC9C,WAAK,IAAIe,CAAC,GAAG,CAAC,CAAd,EAAiBA,CAAC,IAAI,CAAtB,EAAyBA,CAAC,EAA1B,EAA8B;AAC7B,YAAIhB,GAAG,GAAGgB,CAAN,IAAW,CAAC,CAAZ,IAAiB,KAAKtB,WAAL,IAAoBM,GAAG,GAAGgB,CAA/C,EAAkD;;AAClD,aAAK,IAAIC,CAAC,GAAG,CAAC,CAAd,EAAiBA,CAAC,IAAI,CAAtB,EAAyBA,CAAC,EAA1B,EAA8B;AAC7B,cAAIhB,GAAG,GAAGgB,CAAN,IAAW,CAAC,CAAZ,IAAiB,KAAKvB,WAAL,IAAoBO,GAAG,GAAGgB,CAA/C,EAAkD;;AAClD,cACE,KAAKD,CAAL,IAAUA,CAAC,IAAI,CAAf,KAAqBC,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAI,CAApC,CAAD,IACC,KAAKA,CAAL,IAAUA,CAAC,IAAI,CAAf,KAAqBD,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAI,CAApC,CADD,IAEC,KAAKA,CAAL,IAAUA,CAAC,IAAI,CAAf,IAAoB,KAAKC,CAAzB,IAA8BA,CAAC,IAAI,CAHrC,EAIE;AACD,iBAAKxB,OAAL,CAAaO,GAAG,GAAGgB,CAAnB,EAAsBf,GAAG,GAAGgB,CAA5B,IAAiC,IAAjC;AACA,WAND,MAMO;AACN,iBAAKxB,OAAL,CAAaO,GAAG,GAAGgB,CAAnB,EAAsBf,GAAG,GAAGgB,CAA5B,IAAiC,KAAjC;AACA;AACD;AACD;AACD,KAlEsB;AAmEvBX,IAAAA,kBAAkB,EAAE,YAAY;AAC/B,UAAIY,YAAY,GAAG,CAAnB;AACA,UAAIC,OAAO,GAAG,CAAd;;AACA,WAAK,IAAI7C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC3B,aAAK+B,QAAL,CAAc,IAAd,EAAoB/B,CAApB;AACA,YAAI8C,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoB,IAApB,CAAhB;;AACA,YAAIhD,CAAC,IAAI,CAAL,IAAU4C,YAAY,GAAGE,SAA7B,EAAwC;AACvCF,UAAAA,YAAY,GAAGE,SAAf;AACAD,UAAAA,OAAO,GAAG7C,CAAV;AACA;AACD;;AACD,aAAO6C,OAAP;AACA,KA/EsB;AAgFvBI,IAAAA,eAAe,EAAE,UAAUC,SAAV,EAAqBC,aAArB,EAAoCC,KAApC,EAA2C;AAC3D,UAAIC,KAAK,GAAGH,SAAS,CAACI,oBAAV,CAA+BH,aAA/B,EAA8CC,KAA9C,CAAZ;AACA,UAAIG,EAAE,GAAG,CAAT;AACA,WAAKzB,IAAL;;AACA,WAAK,IAAIJ,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAKP,OAAL,CAAajB,MAArC,EAA6CwB,GAAG,EAAhD,EAAoD;AACnD,YAAI8B,CAAC,GAAG9B,GAAG,GAAG6B,EAAd;;AACA,aAAK,IAAI5B,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAKR,OAAL,CAAaO,GAAb,EAAkBxB,MAA1C,EAAkDyB,GAAG,EAArD,EAAyD;AACxD,cAAI8B,CAAC,GAAG9B,GAAG,GAAG4B,EAAd;AACA,cAAIG,IAAI,GAAG,KAAKvC,OAAL,CAAaO,GAAb,EAAkBC,GAAlB,CAAX;;AACA,cAAI+B,IAAJ,EAAU;AACTL,YAAAA,KAAK,CAACM,SAAN,CAAgB,CAAhB,EAAmB,GAAnB;AACAN,YAAAA,KAAK,CAACO,MAAN,CAAaH,CAAb,EAAgBD,CAAhB;AACAH,YAAAA,KAAK,CAACQ,MAAN,CAAaJ,CAAC,GAAGF,EAAjB,EAAqBC,CAArB;AACAH,YAAAA,KAAK,CAACQ,MAAN,CAAaJ,CAAC,GAAGF,EAAjB,EAAqBC,CAAC,GAAGD,EAAzB;AACAF,YAAAA,KAAK,CAACQ,MAAN,CAAaJ,CAAb,EAAgBD,CAAC,GAAGD,EAApB;AACAF,YAAAA,KAAK,CAACS,OAAN;AACA;AACD;AACD;;AACD,aAAOT,KAAP;AACA,KApGsB;AAqGvBhB,IAAAA,kBAAkB,EAAE,YAAY;AAC/B,WAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,WAAL,GAAmB,CAAvC,EAA0CsB,CAAC,EAA3C,EAA+C;AAC9C,YAAI,KAAKvB,OAAL,CAAauB,CAAb,EAAgB,CAAhB,KAAsB,IAA1B,EAAgC;AAC/B;AACA;;AACD,aAAKvB,OAAL,CAAauB,CAAb,EAAgB,CAAhB,IAAqBA,CAAC,GAAG,CAAJ,IAAS,CAA9B;AACA;;AACD,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKvB,WAAL,GAAmB,CAAvC,EAA0CuB,CAAC,EAA3C,EAA+C;AAC9C,YAAI,KAAKxB,OAAL,CAAa,CAAb,EAAgBwB,CAAhB,KAAsB,IAA1B,EAAgC;AAC/B;AACA;;AACD,aAAKxB,OAAL,CAAa,CAAb,EAAgBwB,CAAhB,IAAqBA,CAAC,GAAG,CAAJ,IAAS,CAA9B;AACA;AACD,KAlHsB;AAmHvBP,IAAAA,0BAA0B,EAAE,YAAY;AACvC,UAAI2B,GAAG,GAAGhB,MAAM,CAACiB,kBAAP,CAA0B,KAAK/C,UAA/B,CAAV;;AACA,WAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+D,GAAG,CAAC7D,MAAxB,EAAgCF,CAAC,EAAjC,EAAqC;AACpC,aAAK,IAAIiE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAAC7D,MAAxB,EAAgC+D,CAAC,EAAjC,EAAqC;AACpC,cAAIvC,GAAG,GAAGqC,GAAG,CAAC/D,CAAD,CAAb;AACA,cAAI2B,GAAG,GAAGoC,GAAG,CAACE,CAAD,CAAb;;AACA,cAAI,KAAK9C,OAAL,CAAaO,GAAb,EAAkBC,GAAlB,KAA0B,IAA9B,EAAoC;AACnC;AACA;;AACD,eAAK,IAAIe,CAAC,GAAG,CAAC,CAAd,EAAiBA,CAAC,IAAI,CAAtB,EAAyBA,CAAC,EAA1B,EAA8B;AAC7B,iBAAK,IAAIC,CAAC,GAAG,CAAC,CAAd,EAAiBA,CAAC,IAAI,CAAtB,EAAyBA,CAAC,EAA1B,EAA8B;AAC7B,kBACCD,CAAC,IAAI,CAAC,CAAN,IACAA,CAAC,IAAI,CADL,IAEAC,CAAC,IAAI,CAAC,CAFN,IAGAA,CAAC,IAAI,CAHL,IAICD,CAAC,IAAI,CAAL,IAAUC,CAAC,IAAI,CALjB,EAME;AACD,qBAAKxB,OAAL,CAAaO,GAAG,GAAGgB,CAAnB,EAAsBf,GAAG,GAAGgB,CAA5B,IAAiC,IAAjC;AACA,eARD,MAQO;AACN,qBAAKxB,OAAL,CAAaO,GAAG,GAAGgB,CAAnB,EAAsBf,GAAG,GAAGgB,CAA5B,IAAiC,KAAjC;AACA;AACD;AACD;AACD;AACD;AACD,KA7IsB;AA8IvBJ,IAAAA,eAAe,EAAE,UAAUN,IAAV,EAAgB;AAChC,UAAIiC,IAAI,GAAGnB,MAAM,CAACoB,gBAAP,CAAwB,KAAKlD,UAA7B,CAAX;;AACA,WAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5B,YAAIoE,GAAG,GAAG,CAACnC,IAAD,IAAS,CAAEiC,IAAI,IAAIlE,CAAT,GAAc,CAAf,KAAqB,CAAxC;AACA,aAAKmB,OAAL,CAAakD,IAAI,CAACC,KAAL,CAAWtE,CAAC,GAAG,CAAf,CAAb,EACEA,CAAC,GAAG,CAAL,GAAU,KAAKoB,WAAf,GAA6B,CAA7B,GAAiC,CADlC,IAEIgD,GAFJ;AAGA;;AACD,WAAK,IAAIpE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5B,YAAIoE,GAAG,GAAG,CAACnC,IAAD,IAAS,CAAEiC,IAAI,IAAIlE,CAAT,GAAc,CAAf,KAAqB,CAAxC;AACA,aAAKmB,OAAL,CAAcnB,CAAC,GAAG,CAAL,GAAU,KAAKoB,WAAf,GAA6B,CAA7B,GAAiC,CAA9C,EACCiD,IAAI,CAACC,KAAL,CAAWtE,CAAC,GAAG,CAAf,CADD,IAEIoE,GAFJ;AAGA;AACD,KA5JsB;AA6JvB9B,IAAAA,aAAa,EAAE,UAAUL,IAAV,EAAgBC,WAAhB,EAA6B;AAC3C,UAAIvC,IAAI,GAAI,KAAKuB,iBAAL,IAA0B,CAA3B,GAAgCgB,WAA3C;AACA,UAAIgC,IAAI,GAAGnB,MAAM,CAACwB,cAAP,CAAsB5E,IAAtB,CAAX;;AACA,WAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5B,YAAIoE,GAAG,GAAG,CAACnC,IAAD,IAAS,CAAEiC,IAAI,IAAIlE,CAAT,GAAc,CAAf,KAAqB,CAAxC;;AACA,YAAIA,CAAC,GAAG,CAAR,EAAW;AACV,eAAKmB,OAAL,CAAanB,CAAb,EAAgB,CAAhB,IAAqBoE,GAArB;AACA,SAFD,MAEO,IAAIpE,CAAC,GAAG,CAAR,EAAW;AACjB,eAAKmB,OAAL,CAAanB,CAAC,GAAG,CAAjB,EAAoB,CAApB,IAAyBoE,GAAzB;AACA,SAFM,MAEA;AACN,eAAKjD,OAAL,CAAa,KAAKC,WAAL,GAAmB,EAAnB,GAAwBpB,CAArC,EAAwC,CAAxC,IAA6CoE,GAA7C;AACA;AACD;;AACD,WAAK,IAAIpE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5B,YAAIoE,GAAG,GAAG,CAACnC,IAAD,IAAS,CAAEiC,IAAI,IAAIlE,CAAT,GAAc,CAAf,KAAqB,CAAxC;;AACA,YAAIA,CAAC,GAAG,CAAR,EAAW;AACV,eAAKmB,OAAL,CAAa,CAAb,EAAgB,KAAKC,WAAL,GAAmBpB,CAAnB,GAAuB,CAAvC,IAA4CoE,GAA5C;AACA,SAFD,MAEO,IAAIpE,CAAC,GAAG,CAAR,EAAW;AACjB,eAAKmB,OAAL,CAAa,CAAb,EAAgB,KAAKnB,CAAL,GAAS,CAAT,GAAa,CAA7B,IAAkCoE,GAAlC;AACA,SAFM,MAEA;AACN,eAAKjD,OAAL,CAAa,CAAb,EAAgB,KAAKnB,CAAL,GAAS,CAAzB,IAA8BoE,GAA9B;AACA;AACD;;AACD,WAAKjD,OAAL,CAAa,KAAKC,WAAL,GAAmB,CAAhC,EAAmC,CAAnC,IAAwC,CAACa,IAAzC;AACA,KArLsB;AAsLvBQ,IAAAA,OAAO,EAAE,UAAU9C,IAAV,EAAgBuC,WAAhB,EAA6B;AACrC,UAAIsC,GAAG,GAAG,CAAC,CAAX;AACA,UAAI9C,GAAG,GAAG,KAAKN,WAAL,GAAmB,CAA7B;AACA,UAAIqD,QAAQ,GAAG,CAAf;AACA,UAAIC,SAAS,GAAG,CAAhB;;AACA,WAAK,IAAI/C,GAAG,GAAG,KAAKP,WAAL,GAAmB,CAAlC,EAAqCO,GAAG,GAAG,CAA3C,EAA8CA,GAAG,IAAI,CAArD,EAAwD;AACvD,YAAIA,GAAG,IAAI,CAAX,EAAcA,GAAG;;AACjB,eAAO,IAAP,EAAa;AACZ,eAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC3B,gBAAI,KAAKxB,OAAL,CAAaO,GAAb,EAAkBC,GAAG,GAAGgB,CAAxB,KAA8B,IAAlC,EAAwC;AACvC,kBAAIe,IAAI,GAAG,KAAX;;AACA,kBAAIgB,SAAS,GAAG/E,IAAI,CAACO,MAArB,EAA6B;AAC5BwD,gBAAAA,IAAI,GACH,CAAE/D,IAAI,CAAC+E,SAAD,CAAJ,KAAoBD,QAArB,GAAiC,CAAlC,KAAwC,CADzC;AAEA;;AACD,kBAAIE,IAAI,GAAG5B,MAAM,CAAC6B,OAAP,CACV1C,WADU,EAEVR,GAFU,EAGVC,GAAG,GAAGgB,CAHI,CAAX;;AAKA,kBAAIgC,IAAJ,EAAU;AACTjB,gBAAAA,IAAI,GAAG,CAACA,IAAR;AACA;;AACD,mBAAKvC,OAAL,CAAaO,GAAb,EAAkBC,GAAG,GAAGgB,CAAxB,IAA6Be,IAA7B;AACAe,cAAAA,QAAQ;;AACR,kBAAIA,QAAQ,IAAI,CAAC,CAAjB,EAAoB;AACnBC,gBAAAA,SAAS;AACTD,gBAAAA,QAAQ,GAAG,CAAX;AACA;AACD;AACD;;AACD/C,UAAAA,GAAG,IAAI8C,GAAP;;AACA,cAAI9C,GAAG,GAAG,CAAN,IAAW,KAAKN,WAAL,IAAoBM,GAAnC,EAAwC;AACvCA,YAAAA,GAAG,IAAI8C,GAAP;AACAA,YAAAA,GAAG,GAAG,CAACA,GAAP;AACA;AACA;AACD;AACD;AACD;AA7NsB,GAAxB;AA+NAxD,EAAAA,WAAW,CAAC6D,IAAZ,GAAmB,IAAnB;AACA7D,EAAAA,WAAW,CAAC8D,IAAZ,GAAmB,IAAnB;;AACA9D,EAAAA,WAAW,CAACwB,UAAZ,GAAyB,UACxBvB,UADwB,EAExBC,iBAFwB,EAGxBI,QAHwB,EAIvB;AACD,QAAIyD,QAAQ,GAAGC,SAAS,CAACC,WAAV,CAAsBhE,UAAtB,EAAkCC,iBAAlC,CAAf;AACA,QAAIL,MAAM,GAAG,IAAIqE,WAAJ,EAAb;;AACA,SAAK,IAAIlF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsB,QAAQ,CAACpB,MAA7B,EAAqCF,CAAC,EAAtC,EAA0C;AACzC,UAAIL,IAAI,GAAG2B,QAAQ,CAACtB,CAAD,CAAnB;AACAa,MAAAA,MAAM,CAACE,GAAP,CAAWpB,IAAI,CAACC,IAAhB,EAAsB,CAAtB;AACAiB,MAAAA,MAAM,CAACE,GAAP,CACCpB,IAAI,CAACiB,SAAL,EADD,EAECmC,MAAM,CAACoC,eAAP,CAAuBxF,IAAI,CAACC,IAA5B,EAAkCqB,UAAlC,CAFD;AAIAtB,MAAAA,IAAI,CAACmB,KAAL,CAAWD,MAAX;AACA;;AACD,QAAIuE,cAAc,GAAG,CAArB;;AACA,SAAK,IAAIpF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+E,QAAQ,CAAC7E,MAA7B,EAAqCF,CAAC,EAAtC,EAA0C;AACzCoF,MAAAA,cAAc,IAAIL,QAAQ,CAAC/E,CAAD,CAAR,CAAYqF,SAA9B;AACA;;AACD,QAAIxE,MAAM,CAACsE,eAAP,KAA2BC,cAAc,GAAG,CAAhD,EAAmD;AAClD,YAAM,IAAIxD,KAAJ,CACL,4BACCf,MAAM,CAACsE,eAAP,EADD,GAEC,GAFD,GAGCC,cAAc,GAAG,CAHlB,GAIC,GALI,CAAN;AAOA;;AACD,QAAIvE,MAAM,CAACsE,eAAP,KAA2B,CAA3B,IAAgCC,cAAc,GAAG,CAArD,EAAwD;AACvDvE,MAAAA,MAAM,CAACE,GAAP,CAAW,CAAX,EAAc,CAAd;AACA;;AACD,WAAOF,MAAM,CAACsE,eAAP,KAA2B,CAA3B,IAAgC,CAAvC,EAA0C;AACzCtE,MAAAA,MAAM,CAACyE,MAAP,CAAc,KAAd;AACA;;AACD,WAAO,IAAP,EAAa;AACZ,UAAIzE,MAAM,CAACsE,eAAP,MAA4BC,cAAc,GAAG,CAAjD,EAAoD;AACnD;AACA;;AACDvE,MAAAA,MAAM,CAACE,GAAP,CAAWC,WAAW,CAAC6D,IAAvB,EAA6B,CAA7B;;AACA,UAAIhE,MAAM,CAACsE,eAAP,MAA4BC,cAAc,GAAG,CAAjD,EAAoD;AACnD;AACA;;AACDvE,MAAAA,MAAM,CAACE,GAAP,CAAWC,WAAW,CAAC8D,IAAvB,EAA6B,CAA7B;AACA;;AACD,WAAO9D,WAAW,CAACuE,WAAZ,CAAwB1E,MAAxB,EAAgCkE,QAAhC,CAAP;AACA,GA9CD;;AA+CA/D,EAAAA,WAAW,CAACuE,WAAZ,GAA0B,UAAU1E,MAAV,EAAkBkE,QAAlB,EAA4B;AACrD,QAAIS,MAAM,GAAG,CAAb;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,MAAM,GAAG,IAAIpF,KAAJ,CAAUwE,QAAQ,CAAC7E,MAAnB,CAAb;AACA,QAAI0F,MAAM,GAAG,IAAIrF,KAAJ,CAAUwE,QAAQ,CAAC7E,MAAnB,CAAb;;AACA,SAAK,IAAIwC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqC,QAAQ,CAAC7E,MAA7B,EAAqCwC,CAAC,EAAtC,EAA0C;AACzC,UAAImD,OAAO,GAAGd,QAAQ,CAACrC,CAAD,CAAR,CAAY2C,SAA1B;AACA,UAAIS,OAAO,GAAGf,QAAQ,CAACrC,CAAD,CAAR,CAAYqD,UAAZ,GAAyBF,OAAvC;AACAJ,MAAAA,UAAU,GAAGpB,IAAI,CAAC2B,GAAL,CAASP,UAAT,EAAqBI,OAArB,CAAb;AACAH,MAAAA,UAAU,GAAGrB,IAAI,CAAC2B,GAAL,CAASN,UAAT,EAAqBI,OAArB,CAAb;AACAH,MAAAA,MAAM,CAACjD,CAAD,CAAN,GAAY,IAAInC,KAAJ,CAAUsF,OAAV,CAAZ;;AACA,WAAK,IAAI7F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2F,MAAM,CAACjD,CAAD,CAAN,CAAUxC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAC1C2F,QAAAA,MAAM,CAACjD,CAAD,CAAN,CAAU1C,CAAV,IAAe,OAAOa,MAAM,CAACA,MAAP,CAAcb,CAAC,GAAGwF,MAAlB,CAAtB;AACA;;AACDA,MAAAA,MAAM,IAAIK,OAAV;AACA,UAAII,MAAM,GAAGlD,MAAM,CAACmD,yBAAP,CAAiCJ,OAAjC,CAAb;AACA,UAAIK,OAAO,GAAG,IAAIC,YAAJ,CAAiBT,MAAM,CAACjD,CAAD,CAAvB,EAA4BuD,MAAM,CAACrF,SAAP,KAAqB,CAAjD,CAAd;AACA,UAAIyF,OAAO,GAAGF,OAAO,CAAC/B,GAAR,CAAY6B,MAAZ,CAAd;AACAL,MAAAA,MAAM,CAAClD,CAAD,CAAN,GAAY,IAAInC,KAAJ,CAAU0F,MAAM,CAACrF,SAAP,KAAqB,CAA/B,CAAZ;;AACA,WAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4F,MAAM,CAAClD,CAAD,CAAN,CAAUxC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAC1C,YAAIsG,QAAQ,GAAGtG,CAAC,GAAGqG,OAAO,CAACzF,SAAR,EAAJ,GAA0BgF,MAAM,CAAClD,CAAD,CAAN,CAAUxC,MAAnD;AACA0F,QAAAA,MAAM,CAAClD,CAAD,CAAN,CAAU1C,CAAV,IAAesG,QAAQ,IAAI,CAAZ,GAAgBD,OAAO,CAACE,GAAR,CAAYD,QAAZ,CAAhB,GAAwC,CAAvD;AACA;AACD;;AACD,QAAIE,cAAc,GAAG,CAArB;;AACA,SAAK,IAAIxG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+E,QAAQ,CAAC7E,MAA7B,EAAqCF,CAAC,EAAtC,EAA0C;AACzCwG,MAAAA,cAAc,IAAIzB,QAAQ,CAAC/E,CAAD,CAAR,CAAY+F,UAA9B;AACA;;AACD,QAAIpG,IAAI,GAAG,IAAIY,KAAJ,CAAUiG,cAAV,CAAX;AACA,QAAIC,KAAK,GAAG,CAAZ;;AACA,SAAK,IAAIzG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyF,UAApB,EAAgCzF,CAAC,EAAjC,EAAqC;AACpC,WAAK,IAAI0C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqC,QAAQ,CAAC7E,MAA7B,EAAqCwC,CAAC,EAAtC,EAA0C;AACzC,YAAI1C,CAAC,GAAG2F,MAAM,CAACjD,CAAD,CAAN,CAAUxC,MAAlB,EAA0B;AACzBP,UAAAA,IAAI,CAAC8G,KAAK,EAAN,CAAJ,GAAgBd,MAAM,CAACjD,CAAD,CAAN,CAAU1C,CAAV,CAAhB;AACA;AACD;AACD;;AACD,SAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0F,UAApB,EAAgC1F,CAAC,EAAjC,EAAqC;AACpC,WAAK,IAAI0C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqC,QAAQ,CAAC7E,MAA7B,EAAqCwC,CAAC,EAAtC,EAA0C;AACzC,YAAI1C,CAAC,GAAG4F,MAAM,CAAClD,CAAD,CAAN,CAAUxC,MAAlB,EAA0B;AACzBP,UAAAA,IAAI,CAAC8G,KAAK,EAAN,CAAJ,GAAgBb,MAAM,CAAClD,CAAD,CAAN,CAAU1C,CAAV,CAAhB;AACA;AACD;AACD;;AACD,WAAOL,IAAP;AACA,GA9CD;;AA+CA,MAAIE,MAAM,GAAG;AACZ6G,IAAAA,WAAW,EAAE,KAAK,CADN;AAEZC,IAAAA,cAAc,EAAE,KAAK,CAFT;AAGZ7G,IAAAA,cAAc,EAAE,KAAK,CAHT;AAIZ8G,IAAAA,UAAU,EAAE,KAAK;AAJL,GAAb;AAMA,MAAIC,mBAAmB,GAAG;AAAEC,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE,CAAX;AAAcC,IAAAA,CAAC,EAAE,CAAjB;AAAoBC,IAAAA,CAAC,EAAE;AAAvB,GAA1B;AACA,MAAIC,aAAa,GAAG;AACnBC,IAAAA,UAAU,EAAE,CADO;AAEnBC,IAAAA,UAAU,EAAE,CAFO;AAGnBC,IAAAA,UAAU,EAAE,CAHO;AAInBC,IAAAA,UAAU,EAAE,CAJO;AAKnBC,IAAAA,UAAU,EAAE,CALO;AAMnBC,IAAAA,UAAU,EAAE,CANO;AAOnBC,IAAAA,UAAU,EAAE,CAPO;AAQnBC,IAAAA,UAAU,EAAE;AARO,GAApB;AAUA,MAAI3E,MAAM,GAAG;AACZ4E,IAAAA,sBAAsB,EAAE,CACvB,EADuB,EAEvB,CAAC,CAAD,EAAI,EAAJ,CAFuB,EAGvB,CAAC,CAAD,EAAI,EAAJ,CAHuB,EAIvB,CAAC,CAAD,EAAI,EAAJ,CAJuB,EAKvB,CAAC,CAAD,EAAI,EAAJ,CALuB,EAMvB,CAAC,CAAD,EAAI,EAAJ,CANuB,EAOvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAPuB,EAQvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CARuB,EASvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CATuB,EAUvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAVuB,EAWvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAXuB,EAYvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAZuB,EAavB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAbuB,EAcvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAduB,EAevB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAfuB,EAgBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAhBuB,EAiBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAjBuB,EAkBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAlBuB,EAmBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAnBuB,EAoBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CApBuB,EAqBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,CArBuB,EAsBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,CAtBuB,EAuBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,CAvBuB,EAwBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,CAxBuB,EAyBvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,CAzBuB,EA0BvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,CA1BuB,EA2BvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,CA3BuB,EA4BvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,GAApB,CA5BuB,EA6BvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,CA7BuB,EA8BvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,CA9BuB,EA+BvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,CA/BuB,EAgCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,CAhCuB,EAiCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,CAjCuB,EAkCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,CAlCuB,EAmCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,CAnCuB,EAoCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,CApCuB,EAqCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,CArCuB,EAsCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,CAtCuB,EAuCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,CAvCuB,EAwCvB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,CAxCuB,CADZ;AA2CZC,IAAAA,GAAG,EACD,KAAK,EAAN,GACC,KAAK,CADN,GAEC,KAAK,CAFN,GAGC,KAAK,CAHN,GAIC,KAAK,CAJN,GAKC,KAAK,CALN,GAMC,KAAK,CAlDK;AAmDZC,IAAAA,GAAG,EACD,KAAK,EAAN,GACC,KAAK,EADN,GAEC,KAAK,EAFN,GAGC,KAAK,CAHN,GAIC,KAAK,CAJN,GAKC,KAAK,CALN,GAMC,KAAK,CANN,GAOC,KAAK,CA3DK;AA4DZC,IAAAA,QAAQ,EAAG,KAAK,EAAN,GAAa,KAAK,EAAlB,GAAyB,KAAK,EAA9B,GAAqC,KAAK,CAA1C,GAAgD,KAAK,CA5DnD;AA6DZvD,IAAAA,cAAc,EAAE,UAAU5E,IAAV,EAAgB;AAC/B,UAAIoI,CAAC,GAAGpI,IAAI,IAAI,EAAhB;;AACA,aACCoD,MAAM,CAACiF,WAAP,CAAmBD,CAAnB,IAAwBhF,MAAM,CAACiF,WAAP,CAAmBjF,MAAM,CAAC6E,GAA1B,CAAxB,IACA,CAFD,EAGE;AACDG,QAAAA,CAAC,IACAhF,MAAM,CAAC6E,GAAP,IACC7E,MAAM,CAACiF,WAAP,CAAmBD,CAAnB,IAAwBhF,MAAM,CAACiF,WAAP,CAAmBjF,MAAM,CAAC6E,GAA1B,CAF1B;AAGA;;AACD,aAAO,CAAEjI,IAAI,IAAI,EAAT,GAAeoI,CAAhB,IAAqBhF,MAAM,CAAC+E,QAAnC;AACA,KAxEW;AAyEZ3D,IAAAA,gBAAgB,EAAE,UAAUxE,IAAV,EAAgB;AACjC,UAAIoI,CAAC,GAAGpI,IAAI,IAAI,EAAhB;;AACA,aACCoD,MAAM,CAACiF,WAAP,CAAmBD,CAAnB,IAAwBhF,MAAM,CAACiF,WAAP,CAAmBjF,MAAM,CAAC8E,GAA1B,CAAxB,IACA,CAFD,EAGE;AACDE,QAAAA,CAAC,IACAhF,MAAM,CAAC8E,GAAP,IACC9E,MAAM,CAACiF,WAAP,CAAmBD,CAAnB,IAAwBhF,MAAM,CAACiF,WAAP,CAAmBjF,MAAM,CAAC8E,GAA1B,CAF1B;AAGA;;AACD,aAAQlI,IAAI,IAAI,EAAT,GAAeoI,CAAtB;AACA,KApFW;AAqFZC,IAAAA,WAAW,EAAE,UAAUrI,IAAV,EAAgB;AAC5B,UAAIsI,KAAK,GAAG,CAAZ;;AACA,aAAOtI,IAAI,IAAI,CAAf,EAAkB;AACjBsI,QAAAA,KAAK;AACLtI,QAAAA,IAAI,MAAM,CAAV;AACA;;AACD,aAAOsI,KAAP;AACA,KA5FW;AA6FZjE,IAAAA,kBAAkB,EAAE,UAAU/C,UAAV,EAAsB;AACzC,aAAO8B,MAAM,CAAC4E,sBAAP,CAA8B1G,UAAU,GAAG,CAA3C,CAAP;AACA,KA/FW;AAgGZ2D,IAAAA,OAAO,EAAE,UAAU1C,WAAV,EAAuBlC,CAAvB,EAA0BiE,CAA1B,EAA6B;AACrC,cAAQ/B,WAAR;AACC,aAAKgF,aAAa,CAACC,UAAnB;AACC,iBAAO,CAACnH,CAAC,GAAGiE,CAAL,IAAU,CAAV,IAAe,CAAtB;;AACD,aAAKiD,aAAa,CAACE,UAAnB;AACC,iBAAOpH,CAAC,GAAG,CAAJ,IAAS,CAAhB;;AACD,aAAKkH,aAAa,CAACG,UAAnB;AACC,iBAAOpD,CAAC,GAAG,CAAJ,IAAS,CAAhB;;AACD,aAAKiD,aAAa,CAACI,UAAnB;AACC,iBAAO,CAACtH,CAAC,GAAGiE,CAAL,IAAU,CAAV,IAAe,CAAtB;;AACD,aAAKiD,aAAa,CAACK,UAAnB;AACC,iBAAO,CAAClD,IAAI,CAACC,KAAL,CAAWtE,CAAC,GAAG,CAAf,IAAoBqE,IAAI,CAACC,KAAL,CAAWL,CAAC,GAAG,CAAf,CAArB,IAA0C,CAA1C,IAA+C,CAAtD;;AACD,aAAKiD,aAAa,CAACM,UAAnB;AACC,iBAASxH,CAAC,GAAGiE,CAAL,GAAU,CAAX,GAAkBjE,CAAC,GAAGiE,CAAL,GAAU,CAA3B,IAAiC,CAAxC;;AACD,aAAKiD,aAAa,CAACO,UAAnB;AACC,iBAAO,CAAGzH,CAAC,GAAGiE,CAAL,GAAU,CAAX,GAAkBjE,CAAC,GAAGiE,CAAL,GAAU,CAA5B,IAAkC,CAAlC,IAAuC,CAA9C;;AACD,aAAKiD,aAAa,CAACQ,UAAnB;AACC,iBAAO,CAAG1H,CAAC,GAAGiE,CAAL,GAAU,CAAX,GAAiB,CAACjE,CAAC,GAAGiE,CAAL,IAAU,CAA5B,IAAkC,CAAlC,IAAuC,CAA9C;;AACD;AACC,gBAAM,IAAIrC,KAAJ,CAAU,qBAAqBM,WAA/B,CAAN;AAlBF;AAoBA,KArHW;AAsHZgE,IAAAA,yBAAyB,EAAE,UAAUgC,kBAAV,EAA8B;AACxD,UAAIC,CAAC,GAAG,IAAI/B,YAAJ,CAAiB,CAAC,CAAD,CAAjB,EAAsB,CAAtB,CAAR;;AACA,WAAK,IAAIpG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkI,kBAApB,EAAwClI,CAAC,EAAzC,EAA6C;AAC5CmI,QAAAA,CAAC,GAAGA,CAAC,CAACC,QAAF,CAAW,IAAIhC,YAAJ,CAAiB,CAAC,CAAD,EAAIiC,MAAM,CAACC,IAAP,CAAYtI,CAAZ,CAAJ,CAAjB,EAAsC,CAAtC,CAAX,CAAJ;AACA;;AACD,aAAOmI,CAAP;AACA,KA5HW;AA6HZhD,IAAAA,eAAe,EAAE,UAAUvF,IAAV,EAAgB2I,IAAhB,EAAsB;AACtC,UAAI,KAAKA,IAAL,IAAaA,IAAI,GAAG,EAAxB,EAA4B;AAC3B,gBAAQ3I,IAAR;AACC,eAAKC,MAAM,CAAC6G,WAAZ;AACC,mBAAO,EAAP;;AACD,eAAK7G,MAAM,CAAC8G,cAAZ;AACC,mBAAO,CAAP;;AACD,eAAK9G,MAAM,CAACC,cAAZ;AACC,mBAAO,CAAP;;AACD,eAAKD,MAAM,CAAC+G,UAAZ;AACC,mBAAO,CAAP;;AACD;AACC,kBAAM,IAAIhF,KAAJ,CAAU,UAAUhC,IAApB,CAAN;AAVF;AAYA,OAbD,MAaO,IAAI2I,IAAI,GAAG,EAAX,EAAe;AACrB,gBAAQ3I,IAAR;AACC,eAAKC,MAAM,CAAC6G,WAAZ;AACC,mBAAO,EAAP;;AACD,eAAK7G,MAAM,CAAC8G,cAAZ;AACC,mBAAO,EAAP;;AACD,eAAK9G,MAAM,CAACC,cAAZ;AACC,mBAAO,EAAP;;AACD,eAAKD,MAAM,CAAC+G,UAAZ;AACC,mBAAO,EAAP;;AACD;AACC,kBAAM,IAAIhF,KAAJ,CAAU,UAAUhC,IAApB,CAAN;AAVF;AAYA,OAbM,MAaA,IAAI2I,IAAI,GAAG,EAAX,EAAe;AACrB,gBAAQ3I,IAAR;AACC,eAAKC,MAAM,CAAC6G,WAAZ;AACC,mBAAO,EAAP;;AACD,eAAK7G,MAAM,CAAC8G,cAAZ;AACC,mBAAO,EAAP;;AACD,eAAK9G,MAAM,CAACC,cAAZ;AACC,mBAAO,EAAP;;AACD,eAAKD,MAAM,CAAC+G,UAAZ;AACC,mBAAO,EAAP;;AACD;AACC,kBAAM,IAAIhF,KAAJ,CAAU,UAAUhC,IAApB,CAAN;AAVF;AAYA,OAbM,MAaA;AACN,cAAM,IAAIgC,KAAJ,CAAU,UAAU2G,IAApB,CAAN;AACA;AACD,KAxKW;AAyKZvF,IAAAA,YAAY,EAAE,UAAUwF,MAAV,EAAkB;AAC/B,UAAIpH,WAAW,GAAGoH,MAAM,CAAC3G,cAAP,EAAlB;AACA,UAAIiB,SAAS,GAAG,CAAhB;;AACA,WAAK,IAAIpB,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,WAAxB,EAAqCM,GAAG,EAAxC,EAA4C;AAC3C,aAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGP,WAAxB,EAAqCO,GAAG,EAAxC,EAA4C;AAC3C,cAAI8G,SAAS,GAAG,CAAhB;AACA,cAAI/E,IAAI,GAAG8E,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAnB,CAAX;;AACA,eAAK,IAAIe,CAAC,GAAG,CAAC,CAAd,EAAiBA,CAAC,IAAI,CAAtB,EAAyBA,CAAC,EAA1B,EAA8B;AAC7B,gBAAIhB,GAAG,GAAGgB,CAAN,GAAU,CAAV,IAAetB,WAAW,IAAIM,GAAG,GAAGgB,CAAxC,EAA2C;AAC1C;AACA;;AACD,iBAAK,IAAIC,CAAC,GAAG,CAAC,CAAd,EAAiBA,CAAC,IAAI,CAAtB,EAAyBA,CAAC,EAA1B,EAA8B;AAC7B,kBAAIhB,GAAG,GAAGgB,CAAN,GAAU,CAAV,IAAevB,WAAW,IAAIO,GAAG,GAAGgB,CAAxC,EAA2C;AAC1C;AACA;;AACD,kBAAID,CAAC,IAAI,CAAL,IAAUC,CAAC,IAAI,CAAnB,EAAsB;AACrB;AACA;;AACD,kBAAIe,IAAI,IAAI8E,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAGgB,CAApB,EAAuBf,GAAG,GAAGgB,CAA7B,CAAZ,EAA6C;AAC5C8F,gBAAAA,SAAS;AACT;AACD;AACD;;AACD,cAAIA,SAAS,GAAG,CAAhB,EAAmB;AAClB3F,YAAAA,SAAS,IAAI,IAAI2F,SAAJ,GAAgB,CAA7B;AACA;AACD;AACD;;AACD,WAAK,IAAI/G,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,WAAW,GAAG,CAAtC,EAAyCM,GAAG,EAA5C,EAAgD;AAC/C,aAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGP,WAAW,GAAG,CAAtC,EAAyCO,GAAG,EAA5C,EAAgD;AAC/C,cAAI+G,KAAK,GAAG,CAAZ;AACA,cAAIF,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAnB,CAAJ,EAA6B+G,KAAK;AAClC,cAAIF,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAG,CAApB,EAAuBC,GAAvB,CAAJ,EAAiC+G,KAAK;AACtC,cAAIF,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAG,GAAG,CAAzB,CAAJ,EAAiC+G,KAAK;AACtC,cAAIF,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAG,CAApB,EAAuBC,GAAG,GAAG,CAA7B,CAAJ,EAAqC+G,KAAK;;AAC1C,cAAIA,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,CAA3B,EAA8B;AAC7B5F,YAAAA,SAAS,IAAI,CAAb;AACA;AACD;AACD;;AACD,WAAK,IAAIpB,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,WAAxB,EAAqCM,GAAG,EAAxC,EAA4C;AAC3C,aAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGP,WAAW,GAAG,CAAtC,EAAyCO,GAAG,EAA5C,EAAgD;AAC/C,cACC6G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAnB,KACA,CAAC6G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAG,GAAG,CAAzB,CADD,IAEA6G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAG,GAAG,CAAzB,CAFA,IAGA6G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAG,GAAG,CAAzB,CAHA,IAIA6G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAG,GAAG,CAAzB,CAJA,IAKA,CAAC6G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAG,GAAG,CAAzB,CALD,IAMA6G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAG,GAAG,CAAzB,CAPD,EAQE;AACDmB,YAAAA,SAAS,IAAI,EAAb;AACA;AACD;AACD;;AACD,WAAK,IAAInB,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGP,WAAxB,EAAqCO,GAAG,EAAxC,EAA4C;AAC3C,aAAK,IAAID,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,WAAW,GAAG,CAAtC,EAAyCM,GAAG,EAA5C,EAAgD;AAC/C,cACC8G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAnB,KACA,CAAC6G,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAG,CAApB,EAAuBC,GAAvB,CADD,IAEA6G,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAG,CAApB,EAAuBC,GAAvB,CAFA,IAGA6G,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAG,CAApB,EAAuBC,GAAvB,CAHA,IAIA6G,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAG,CAApB,EAAuBC,GAAvB,CAJA,IAKA,CAAC6G,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAG,CAApB,EAAuBC,GAAvB,CALD,IAMA6G,MAAM,CAAC/G,MAAP,CAAcC,GAAG,GAAG,CAApB,EAAuBC,GAAvB,CAPD,EAQE;AACDmB,YAAAA,SAAS,IAAI,EAAb;AACA;AACD;AACD;;AACD,UAAI6F,SAAS,GAAG,CAAhB;;AACA,WAAK,IAAIhH,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGP,WAAxB,EAAqCO,GAAG,EAAxC,EAA4C;AAC3C,aAAK,IAAID,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,WAAxB,EAAqCM,GAAG,EAAxC,EAA4C;AAC3C,cAAI8G,MAAM,CAAC/G,MAAP,CAAcC,GAAd,EAAmBC,GAAnB,CAAJ,EAA6B;AAC5BgH,YAAAA,SAAS;AACT;AACD;AACD;;AACD,UAAIC,KAAK,GACRvE,IAAI,CAACwE,GAAL,CAAU,MAAMF,SAAP,GAAoBvH,WAApB,GAAkCA,WAAlC,GAAgD,EAAzD,IACA,CAFD;AAGA0B,MAAAA,SAAS,IAAI8F,KAAK,GAAG,EAArB;AACA,aAAO9F,SAAP;AACA;AA5PW,GAAb;AA8PA,MAAIuF,MAAM,GAAG;AACZS,IAAAA,IAAI,EAAE,UAAUC,CAAV,EAAa;AAClB,UAAIA,CAAC,GAAG,CAAR,EAAW;AACV,cAAM,IAAInH,KAAJ,CAAU,UAAUmH,CAAV,GAAc,GAAxB,CAAN;AACA;;AACD,aAAOV,MAAM,CAACW,SAAP,CAAiBD,CAAjB,CAAP;AACA,KANW;AAOZT,IAAAA,IAAI,EAAE,UAAUS,CAAV,EAAa;AAClB,aAAOA,CAAC,GAAG,CAAX,EAAc;AACbA,QAAAA,CAAC,IAAI,GAAL;AACA;;AACD,aAAOA,CAAC,IAAI,GAAZ,EAAiB;AAChBA,QAAAA,CAAC,IAAI,GAAL;AACA;;AACD,aAAOV,MAAM,CAACY,SAAP,CAAiBF,CAAjB,CAAP;AACA,KAfW;AAgBZE,IAAAA,SAAS,EAAE,IAAI1I,KAAJ,CAAU,GAAV,CAhBC;AAiBZyI,IAAAA,SAAS,EAAE,IAAIzI,KAAJ,CAAU,GAAV;AAjBC,GAAb;;AAmBA,OAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC3BqI,IAAAA,MAAM,CAACY,SAAP,CAAiBjJ,CAAjB,IAAsB,KAAKA,CAA3B;AACA;;AACD,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,GAApB,EAAyBA,CAAC,EAA1B,EAA8B;AAC7BqI,IAAAA,MAAM,CAACY,SAAP,CAAiBjJ,CAAjB,IACCqI,MAAM,CAACY,SAAP,CAAiBjJ,CAAC,GAAG,CAArB,IACAqI,MAAM,CAACY,SAAP,CAAiBjJ,CAAC,GAAG,CAArB,CADA,GAEAqI,MAAM,CAACY,SAAP,CAAiBjJ,CAAC,GAAG,CAArB,CAFA,GAGAqI,MAAM,CAACY,SAAP,CAAiBjJ,CAAC,GAAG,CAArB,CAJD;AAKA;;AACD,OAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,GAApB,EAAyBA,CAAC,EAA1B,EAA8B;AAC7BqI,IAAAA,MAAM,CAACW,SAAP,CAAiBX,MAAM,CAACY,SAAP,CAAiBjJ,CAAjB,CAAjB,IAAwCA,CAAxC;AACA;;AACD,WAASoG,YAAT,CAAsB8C,GAAtB,EAA2BC,KAA3B,EAAkC;AACjC,QAAID,GAAG,CAAChJ,MAAJ,IAAckJ,SAAlB,EAA6B;AAC5B,YAAM,IAAIxH,KAAJ,CAAUsH,GAAG,CAAChJ,MAAJ,GAAa,GAAb,GAAmBiJ,KAA7B,CAAN;AACA;;AACD,QAAI3D,MAAM,GAAG,CAAb;;AACA,WAAOA,MAAM,GAAG0D,GAAG,CAAChJ,MAAb,IAAuBgJ,GAAG,CAAC1D,MAAD,CAAH,IAAe,CAA7C,EAAgD;AAC/CA,MAAAA,MAAM;AACN;;AACD,SAAK0D,GAAL,GAAW,IAAI3I,KAAJ,CAAU2I,GAAG,CAAChJ,MAAJ,GAAasF,MAAb,GAAsB2D,KAAhC,CAAX;;AACA,SAAK,IAAInJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkJ,GAAG,CAAChJ,MAAJ,GAAasF,MAAjC,EAAyCxF,CAAC,EAA1C,EAA8C;AAC7C,WAAKkJ,GAAL,CAASlJ,CAAT,IAAckJ,GAAG,CAAClJ,CAAC,GAAGwF,MAAL,CAAjB;AACA;AACD;;AACDY,EAAAA,YAAY,CAAC5F,SAAb,GAAyB;AACxB+F,IAAAA,GAAG,EAAE,UAAUE,KAAV,EAAiB;AACrB,aAAO,KAAKyC,GAAL,CAASzC,KAAT,CAAP;AACA,KAHuB;AAIxB7F,IAAAA,SAAS,EAAE,YAAY;AACtB,aAAO,KAAKsI,GAAL,CAAShJ,MAAhB;AACA,KANuB;AAOxBkI,IAAAA,QAAQ,EAAE,UAAUiB,CAAV,EAAa;AACtB,UAAIH,GAAG,GAAG,IAAI3I,KAAJ,CAAU,KAAKK,SAAL,KAAmByI,CAAC,CAACzI,SAAF,EAAnB,GAAmC,CAA7C,CAAV;;AACA,WAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKY,SAAL,EAApB,EAAsCZ,CAAC,EAAvC,EAA2C;AAC1C,aAAK,IAAIiE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoF,CAAC,CAACzI,SAAF,EAApB,EAAmCqD,CAAC,EAApC,EAAwC;AACvCiF,UAAAA,GAAG,CAAClJ,CAAC,GAAGiE,CAAL,CAAH,IAAcoE,MAAM,CAACC,IAAP,CACbD,MAAM,CAACS,IAAP,CAAY,KAAKvC,GAAL,CAASvG,CAAT,CAAZ,IAA2BqI,MAAM,CAACS,IAAP,CAAYO,CAAC,CAAC9C,GAAF,CAAMtC,CAAN,CAAZ,CADd,CAAd;AAGA;AACD;;AACD,aAAO,IAAImC,YAAJ,CAAiB8C,GAAjB,EAAsB,CAAtB,CAAP;AACA,KAjBuB;AAkBxB9E,IAAAA,GAAG,EAAE,UAAUiF,CAAV,EAAa;AACjB,UAAI,KAAKzI,SAAL,KAAmByI,CAAC,CAACzI,SAAF,EAAnB,GAAmC,CAAvC,EAA0C;AACzC,eAAO,IAAP;AACA;;AACD,UAAIgI,KAAK,GAAGP,MAAM,CAACS,IAAP,CAAY,KAAKvC,GAAL,CAAS,CAAT,CAAZ,IAA2B8B,MAAM,CAACS,IAAP,CAAYO,CAAC,CAAC9C,GAAF,CAAM,CAAN,CAAZ,CAAvC;AACA,UAAI2C,GAAG,GAAG,IAAI3I,KAAJ,CAAU,KAAKK,SAAL,EAAV,CAAV;;AACA,WAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKY,SAAL,EAApB,EAAsCZ,CAAC,EAAvC,EAA2C;AAC1CkJ,QAAAA,GAAG,CAAClJ,CAAD,CAAH,GAAS,KAAKuG,GAAL,CAASvG,CAAT,CAAT;AACA;;AACD,WAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqJ,CAAC,CAACzI,SAAF,EAApB,EAAmCZ,CAAC,EAApC,EAAwC;AACvCkJ,QAAAA,GAAG,CAAClJ,CAAD,CAAH,IAAUqI,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACS,IAAP,CAAYO,CAAC,CAAC9C,GAAF,CAAMvG,CAAN,CAAZ,IAAwB4I,KAApC,CAAV;AACA;;AACD,aAAO,IAAIxC,YAAJ,CAAiB8C,GAAjB,EAAsB,CAAtB,EAAyB9E,GAAzB,CAA6BiF,CAA7B,CAAP;AACA;AA/BuB,GAAzB;;AAiCA,WAASrE,SAAT,CAAmBe,UAAnB,EAA+BV,SAA/B,EAA0C;AACzC,SAAKU,UAAL,GAAkBA,UAAlB;AACA,SAAKV,SAAL,GAAiBA,SAAjB;AACA;;AACDL,EAAAA,SAAS,CAACsE,cAAV,GAA2B,CAC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAD0B,EAE1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAF0B,EAG1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAH0B,EAI1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,CAAR,CAJ0B,EAK1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAL0B,EAM1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAN0B,EAO1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAP0B,EAQ1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAR0B,EAS1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAT0B,EAU1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAV0B,EAW1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAX0B,EAY1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAZ0B,EAa1B,CAAC,CAAD,EAAI,GAAJ,EAAS,EAAT,CAb0B,EAc1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAd0B,EAe1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAf0B,EAgB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,CAAR,CAhB0B,EAiB1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CAjB0B,EAkB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAlB0B,EAmB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAnB0B,EAoB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CApB0B,EAqB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CArB0B,EAsB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAtB0B,EAuB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAvB0B,EAwB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAxB0B,EAyB1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAzB0B,EA0B1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CA1B0B,EA2B1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA3B0B,EA4B1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA5B0B,EA6B1B,CAAC,CAAD,EAAI,GAAJ,EAAS,EAAT,CA7B0B,EA8B1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA9B0B,EA+B1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA/B0B,EAgC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAhC0B,EAiC1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CAjC0B,EAkC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAlC0B,EAmC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAnC0B,EAoC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CApC0B,EAqC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CArC0B,EAsC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAtC0B,EAuC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAvC0B,EAwC1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAxC0B,EAyC1B,CAAC,CAAD,EAAI,GAAJ,EAAS,EAAT,CAzC0B,EA0C1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA1C0B,EA2C1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA3C0B,EA4C1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA5C0B,EA6C1B,CAAC,CAAD,EAAI,GAAJ,EAAS,EAAT,EAAa,CAAb,EAAgB,GAAhB,EAAqB,EAArB,CA7C0B,EA8C1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA9C0B,EA+C1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA/C0B,EAgD1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAhD0B,EAiD1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CAjD0B,EAkD1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAlD0B,EAmD1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAnD0B,EAoD1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CApD0B,EAqD1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CArD0B,EAsD1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAtD0B,EAuD1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAvD0B,EAwD1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAxD0B,EAyD1B,CAAC,CAAD,EAAI,GAAJ,EAAS,EAAT,EAAa,CAAb,EAAgB,GAAhB,EAAqB,EAArB,CAzD0B,EA0D1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA1D0B,EA2D1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA3D0B,EA4D1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CA5D0B,EA6D1B,CAAC,CAAD,EAAI,GAAJ,EAAS,EAAT,EAAa,CAAb,EAAgB,GAAhB,EAAqB,EAArB,CA7D0B,EA8D1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CA9D0B,EA+D1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CA/D0B,EAgE1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAhE0B,EAiE1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CAjE0B,EAkE1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAlE0B,EAmE1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAnE0B,EAoE1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CApE0B,EAqE1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CArE0B,EAsE1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,CAAZ,EAAe,EAAf,EAAmB,EAAnB,CAtE0B,EAuE1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAvE0B,EAwE1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAxE0B,EAyE1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CAzE0B,EA0E1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA1E0B,EA2E1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CA3E0B,EA4E1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA5E0B,EA6E1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CA7E0B,EA8E1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA9E0B,EA+E1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CA/E0B,EAgF1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAhF0B,EAiF1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CAjF0B,EAkF1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAlF0B,EAmF1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAnF0B,EAoF1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CApF0B,EAqF1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CArF0B,EAsF1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAtF0B,EAuF1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAvF0B,EAwF1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAxF0B,EAyF1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CAzF0B,EA0F1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA1F0B,EA2F1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA3F0B,EA4F1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA5F0B,EA6F1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CA7F0B,EA8F1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA9F0B,EA+F1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA/F0B,EAgG1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAhG0B,EAiG1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CAjG0B,EAkG1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAlG0B,EAmG1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAnG0B,EAoG1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CApG0B,EAqG1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,EAAuB,GAAvB,CArG0B,EAsG1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAtG0B,EAuG1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAvG0B,EAwG1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAxG0B,EAyG1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CAzG0B,EA0G1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CA1G0B,EA2G1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA3G0B,EA4G1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA5G0B,EA6G1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,EAAd,EAAkB,GAAlB,EAAuB,GAAvB,CA7G0B,EA8G1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA9G0B,EA+G1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA/G0B,EAgH1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAhH0B,EAiH1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,CAAd,EAAiB,GAAjB,EAAsB,GAAtB,CAjH0B,EAkH1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAlH0B,EAmH1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAnH0B,EAoH1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CApH0B,EAqH1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,EAAd,EAAkB,GAAlB,EAAuB,GAAvB,CArH0B,EAsH1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAtH0B,EAuH1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAvH0B,EAwH1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAxH0B,EAyH1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,EAAuB,GAAvB,CAzH0B,EA0H1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA1H0B,EA2H1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CA3H0B,EA4H1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA5H0B,EA6H1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CA7H0B,EA8H1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA9H0B,EA+H1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA/H0B,EAgI1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAhI0B,EAiI1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,EAAuB,GAAvB,CAjI0B,EAkI1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAlI0B,EAmI1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAnI0B,EAoI1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CApI0B,EAqI1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,EAAuB,GAAvB,CArI0B,EAsI1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAtI0B,EAuI1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAvI0B,EAwI1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CAxI0B,EAyI1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,EAAuB,GAAvB,CAzI0B,EA0I1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA1I0B,EA2I1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA3I0B,EA4I1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA5I0B,EA6I1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,EAAd,EAAkB,GAAlB,EAAuB,GAAvB,CA7I0B,EA8I1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CA9I0B,EA+I1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA/I0B,EAgJ1B,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAhJ0B,EAiJ1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,EAAuB,GAAvB,CAjJ0B,EAkJ1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAlJ0B,EAmJ1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAnJ0B,EAoJ1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CApJ0B,EAqJ1B,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,EAAd,EAAkB,GAAlB,EAAuB,GAAvB,CArJ0B,EAsJ1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAtJ0B,EAuJ1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAvJ0B,EAwJ1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAxJ0B,EAyJ1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,EAAuB,GAAvB,CAzJ0B,EA0J1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,CA1J0B,EA2J1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA3J0B,EA4J1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA5J0B,EA6J1B,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,CAAf,EAAkB,GAAlB,EAAuB,GAAvB,CA7J0B,EA8J1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA9J0B,EA+J1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CA/J0B,EAgK1B,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAhK0B,CAA3B;;AAkKAtE,EAAAA,SAAS,CAACC,WAAV,GAAwB,UAAUhE,UAAV,EAAsBC,iBAAtB,EAAyC;AAChE,QAAIqI,OAAO,GAAGvE,SAAS,CAACwE,eAAV,CAA0BvI,UAA1B,EAAsCC,iBAAtC,CAAd;;AACA,QAAIqI,OAAO,IAAIH,SAAf,EAA0B;AACzB,YAAM,IAAIxH,KAAJ,CACL,+BACCX,UADD,GAEC,qBAFD,GAGCC,iBAJI,CAAN;AAMA;;AACD,QAAIhB,MAAM,GAAGqJ,OAAO,CAACrJ,MAAR,GAAiB,CAA9B;AACA,QAAIuJ,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIzJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,MAApB,EAA4BF,CAAC,EAA7B,EAAiC;AAChC,UAAI0I,KAAK,GAAGa,OAAO,CAACvJ,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAnB;AACA,UAAI+F,UAAU,GAAGwD,OAAO,CAACvJ,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAxB;AACA,UAAIqF,SAAS,GAAGkE,OAAO,CAACvJ,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAvB;;AACA,WAAK,IAAIiE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyE,KAApB,EAA2BzE,CAAC,EAA5B,EAAgC;AAC/BwF,QAAAA,IAAI,CAACnJ,IAAL,CAAU,IAAI0E,SAAJ,CAAce,UAAd,EAA0BV,SAA1B,CAAV;AACA;AACD;;AACD,WAAOoE,IAAP;AACA,GArBD;;AAsBAzE,EAAAA,SAAS,CAACwE,eAAV,GAA4B,UAAUvI,UAAV,EAAsBC,iBAAtB,EAAyC;AACpE,YAAQA,iBAAR;AACC,WAAK2F,mBAAmB,CAACC,CAAzB;AACC,eAAO9B,SAAS,CAACsE,cAAV,CAAyB,CAACrI,UAAU,GAAG,CAAd,IAAmB,CAAnB,GAAuB,CAAhD,CAAP;;AACD,WAAK4F,mBAAmB,CAACE,CAAzB;AACC,eAAO/B,SAAS,CAACsE,cAAV,CAAyB,CAACrI,UAAU,GAAG,CAAd,IAAmB,CAAnB,GAAuB,CAAhD,CAAP;;AACD,WAAK4F,mBAAmB,CAACG,CAAzB;AACC,eAAOhC,SAAS,CAACsE,cAAV,CAAyB,CAACrI,UAAU,GAAG,CAAd,IAAmB,CAAnB,GAAuB,CAAhD,CAAP;;AACD,WAAK4F,mBAAmB,CAACI,CAAzB;AACC,eAAOjC,SAAS,CAACsE,cAAV,CAAyB,CAACrI,UAAU,GAAG,CAAd,IAAmB,CAAnB,GAAuB,CAAhD,CAAP;;AACD;AACC,eAAOmI,SAAP;AAVF;AAYA,GAbD;;AAcA,WAASlE,WAAT,GAAuB;AACtB,SAAKrE,MAAL,GAAc,EAAd;AACA,SAAKX,MAAL,GAAc,CAAd;AACA;;AACDgF,EAAAA,WAAW,CAAC1E,SAAZ,GAAwB;AACvB+F,IAAAA,GAAG,EAAE,UAAUE,KAAV,EAAiB;AACrB,UAAIiD,QAAQ,GAAGrF,IAAI,CAACC,KAAL,CAAWmC,KAAK,GAAG,CAAnB,CAAf;AACA,aAAO,CAAE,KAAK5F,MAAL,CAAY6I,QAAZ,MAA2B,IAAKjD,KAAK,GAAG,CAAzC,GAAgD,CAAjD,KAAuD,CAA9D;AACA,KAJsB;AAKvB1F,IAAAA,GAAG,EAAE,UAAUmI,GAAV,EAAehJ,MAAf,EAAuB;AAC3B,WAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,MAApB,EAA4BF,CAAC,EAA7B,EAAiC;AAChC,aAAKsF,MAAL,CAAY,CAAE4D,GAAG,KAAMhJ,MAAM,GAAGF,CAAT,GAAa,CAAvB,GAA6B,CAA9B,KAAoC,CAAhD;AACA;AACD,KATsB;AAUvBmF,IAAAA,eAAe,EAAE,YAAY;AAC5B,aAAO,KAAKjF,MAAZ;AACA,KAZsB;AAavBoF,IAAAA,MAAM,EAAE,UAAUqE,GAAV,EAAe;AACtB,UAAID,QAAQ,GAAGrF,IAAI,CAACC,KAAL,CAAW,KAAKpE,MAAL,GAAc,CAAzB,CAAf;;AACA,UAAI,KAAKW,MAAL,CAAYX,MAAZ,IAAsBwJ,QAA1B,EAAoC;AACnC,aAAK7I,MAAL,CAAYP,IAAZ,CAAiB,CAAjB;AACA;;AACD,UAAIqJ,GAAJ,EAAS;AACR,aAAK9I,MAAL,CAAY6I,QAAZ,KAAyB,SAAS,KAAKxJ,MAAL,GAAc,CAAhD;AACA;;AACD,WAAKA,MAAL;AACA;AAtBsB,GAAxB;AAwBA,MAAI0J,iBAAiB,GAAG,CACvB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,CADuB,EAEvB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,CAFuB,EAGvB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,CAHuB,EAIvB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,CAJuB,EAKvB,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,EAAc,EAAd,CALuB,EAMvB,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,EAAe,EAAf,CANuB,EAOvB,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,EAAe,EAAf,CAPuB,EAQvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,EAAhB,CARuB,EASvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,EAAhB,CATuB,EAUvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAVuB,EAWvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAXuB,EAYvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAZuB,EAavB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAbuB,EAcvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAduB,EAevB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAfuB,EAgBvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAhBuB,EAiBvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAjBuB,EAkBvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAlBuB,EAmBvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAnBuB,EAoBvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CApBuB,EAqBvB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CArBuB,EAsBvB,CAAC,IAAD,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,CAtBuB,EAuBvB,CAAC,IAAD,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,CAvBuB,EAwBvB,CAAC,IAAD,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,CAxBuB,EAyBvB,CAAC,IAAD,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,CAzBuB,EA0BvB,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,GAAlB,CA1BuB,EA2BvB,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,GAAlB,CA3BuB,EA4BvB,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,GAAlB,CA5BuB,EA6BvB,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,GAAlB,CA7BuB,EA8BvB,CAAC,IAAD,EAAO,IAAP,EAAa,GAAb,EAAkB,GAAlB,CA9BuB,EA+BvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,GAAnB,CA/BuB,EAgCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,GAAnB,CAhCuB,EAiCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,GAAnB,CAjCuB,EAkCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,GAAnB,CAlCuB,EAmCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,GAAnB,CAnCuB,EAoCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CApCuB,EAqCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CArCuB,EAsCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAtCuB,EAuCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAvCuB,EAwCvB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAxCuB,CAAxB;;AA2CA,WAASC,gBAAT,GAA4B;AAC3B,WAAO,OAAOC,wBAAP,IAAmC,WAA1C;AACA,GAz/BW,CA2/BZ;;;AACA,WAASC,WAAT,GAAuB;AACtB,QAAIC,OAAO,GAAG,KAAd;AACA,QAAIC,MAAM,GAAGC,SAAS,CAACC,SAAvB;;AAEA,QAAI,WAAWlI,IAAX,CAAgBgI,MAAhB,CAAJ,EAA6B;AAC5B;AACAD,MAAAA,OAAO,GAAG,IAAV;AACA,UAAII,IAAI,GAAGH,MAAM,CAACI,QAAP,GAAkBC,KAAlB,CAAwB,yBAAxB,CAAX;;AAEA,UAAIF,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAhB,EAAqB;AACpBJ,QAAAA,OAAO,GAAGO,UAAU,CAACH,IAAI,CAAC,CAAD,CAAL,CAApB;AACA;AACD;;AAED,WAAOJ,OAAP;AACA;;AAED,MAAIQ,SAAS,GAAI,YAAY;AAC5B,QAAIC,OAAO,GAAG,UAAUC,EAAV,EAAcC,QAAd,EAAwB;AACrC,WAAKC,GAAL,GAAWF,EAAX;AACA,WAAKG,SAAL,GAAiBF,QAAjB;AACA,KAHD;;AAKAF,IAAAA,OAAO,CAACjK,SAAR,CAAkBsK,IAAlB,GAAyB,UAAUC,OAAV,EAAmB;AAC3C,UAAIF,SAAS,GAAG,KAAKA,SAArB;AACA,UAAID,GAAG,GAAG,KAAKA,GAAf;AACA,UAAII,MAAM,GAAGD,OAAO,CAAClJ,cAAR,EAAb;AACA,UAAIoJ,MAAM,GAAG5G,IAAI,CAACC,KAAL,CAAWuG,SAAS,CAACK,KAAV,GAAkBF,MAA7B,CAAb;AACA,UAAIG,OAAO,GAAG9G,IAAI,CAACC,KAAL,CAAWuG,SAAS,CAACO,MAAV,GAAmBJ,MAA9B,CAAd;AAEA,WAAKK,KAAL;;AAEA,eAASC,OAAT,CAAiBC,GAAjB,EAAsBC,KAAtB,EAA6B;AAC5B,YAAId,EAAE,GAAGe,QAAQ,CAACC,eAAT,CACR,4BADQ,EAERH,GAFQ,CAAT;;AAIA,aAAK,IAAII,CAAT,IAAcH,KAAd,EACC,IAAIA,KAAK,CAACI,cAAN,CAAqBD,CAArB,CAAJ,EAA6BjB,EAAE,CAACmB,YAAH,CAAgBF,CAAhB,EAAmBH,KAAK,CAACG,CAAD,CAAxB;;AAC9B,eAAOjB,EAAP;AACA;;AAED,UAAIoB,GAAG,GAAGR,OAAO,CAAC,KAAD,EAAQ;AACxBS,QAAAA,OAAO,EAAE,SAASC,MAAM,CAAChB,MAAD,CAAf,GAA0B,GAA1B,GAAgCgB,MAAM,CAAChB,MAAD,CADvB;AAExBE,QAAAA,KAAK,EAAE,MAFiB;AAGxBE,QAAAA,MAAM,EAAE,MAHgB;AAIxBa,QAAAA,IAAI,EAAEpB,SAAS,CAACqB;AAJQ,OAAR,CAAjB;AAMAJ,MAAAA,GAAG,CAACK,cAAJ,CACC,+BADD,EAEC,aAFD,EAGC,8BAHD;;AAKAvB,MAAAA,GAAG,CAACwB,WAAJ,CAAgBN,GAAhB;;AAEAA,MAAAA,GAAG,CAACM,WAAJ,CACCd,OAAO,CAAC,MAAD,EAAS;AACfW,QAAAA,IAAI,EAAEpB,SAAS,CAACqB,UADD;AAEfhB,QAAAA,KAAK,EAAE,MAFQ;AAGfE,QAAAA,MAAM,EAAE;AAHO,OAAT,CADR;AAOAU,MAAAA,GAAG,CAACM,WAAJ,CACCd,OAAO,CAAC,MAAD,EAAS;AACfW,QAAAA,IAAI,EAAEpB,SAAS,CAACwB,SADD;AAEfnB,QAAAA,KAAK,EAAE,GAFQ;AAGfE,QAAAA,MAAM,EAAE,GAHO;AAIfkB,QAAAA,EAAE,EAAE;AAJW,OAAT,CADR;;AASA,WAAK,IAAI5K,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGsJ,MAAxB,EAAgCtJ,GAAG,EAAnC,EAAuC;AACtC,aAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGqJ,MAAxB,EAAgCrJ,GAAG,EAAnC,EAAuC;AACtC,cAAIoJ,OAAO,CAACtJ,MAAR,CAAeC,GAAf,EAAoBC,GAApB,CAAJ,EAA8B;AAC7B,gBAAI4K,KAAK,GAAGjB,OAAO,CAAC,KAAD,EAAQ;AAC1B7H,cAAAA,CAAC,EAAEuI,MAAM,CAACrK,GAAD,CADiB;AAE1B6B,cAAAA,CAAC,EAAEwI,MAAM,CAACtK,GAAD;AAFiB,aAAR,CAAnB;AAIA6K,YAAAA,KAAK,CAACJ,cAAN,CACC,8BADD,EAEC,MAFD,EAGC,WAHD;AAKAL,YAAAA,GAAG,CAACM,WAAJ,CAAgBG,KAAhB;AACA;AACD;AACD;AACD,KAhED;;AAiEA9B,IAAAA,OAAO,CAACjK,SAAR,CAAkB6K,KAAlB,GAA0B,YAAY;AACrC,aAAO,KAAKT,GAAL,CAAS4B,aAAT,EAAP,EACC,KAAK5B,GAAL,CAAS6B,WAAT,CAAqB,KAAK7B,GAAL,CAAS8B,SAA9B;AACD,KAHD;;AAIA,WAAOjC,OAAP;AACA,GA5Ee,EAAhB;;AA8EA,MAAIkC,MAAM,GAAGlB,QAAQ,CAACmB,eAAT,CAAyBC,OAAzB,CAAiCC,WAAjC,OAAmD,KAAhE,CA3lCY,CA6lCZ;;AACA,MAAIrC,OAAO,GAAGkC,MAAM,GACjBnC,SADiB,GAEjB,CAACX,gBAAgB,EAAjB,GACC,YAAY;AACb,QAAIY,OAAO,GAAG,UAAUC,EAAV,EAAcC,QAAd,EAAwB;AACrC,WAAKC,GAAL,GAAWF,EAAX;AACA,WAAKG,SAAL,GAAiBF,QAAjB;AACA,KAHD;AAKA;AACJ;AACA;AACA;AACA;;;AACIF,IAAAA,OAAO,CAACjK,SAAR,CAAkBsK,IAAlB,GAAyB,UAAUC,OAAV,EAAmB;AAC3C,UAAIF,SAAS,GAAG,KAAKA,SAArB;AACA,UAAID,GAAG,GAAG,KAAKA,GAAf;AACA,UAAII,MAAM,GAAGD,OAAO,CAAClJ,cAAR,EAAb;AACA,UAAIoJ,MAAM,GAAG5G,IAAI,CAACC,KAAL,CAAWuG,SAAS,CAACK,KAAV,GAAkBF,MAA7B,CAAb;AACA,UAAIG,OAAO,GAAG9G,IAAI,CAACC,KAAL,CAAWuG,SAAS,CAACO,MAAV,GAAmBJ,MAA9B,CAAd;AACA,UAAI+B,KAAK,GAAG,CACX,oDADW,CAAZ;;AAIA,WAAK,IAAIrL,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGsJ,MAAxB,EAAgCtJ,GAAG,EAAnC,EAAuC;AACtCqL,QAAAA,KAAK,CAACzM,IAAN,CAAW,MAAX;;AAEA,aAAK,IAAIqB,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGqJ,MAAxB,EAAgCrJ,GAAG,EAAnC,EAAuC;AACtCoL,UAAAA,KAAK,CAACzM,IAAN,CACC,2EACC2K,MADD,GAEC,YAFD,GAGCE,OAHD,GAIC,sBAJD,IAKEJ,OAAO,CAACtJ,MAAR,CAAeC,GAAf,EAAoBC,GAApB,IACEkJ,SAAS,CAACwB,SADZ,GAEExB,SAAS,CAACqB,UAPd,IAQC,UATF;AAWA;;AAEDa,QAAAA,KAAK,CAACzM,IAAN,CAAW,OAAX;AACA;;AAEDyM,MAAAA,KAAK,CAACzM,IAAN,CAAW,UAAX;AACAsK,MAAAA,GAAG,CAACoC,SAAJ,GAAgBD,KAAK,CAACE,IAAN,CAAW,EAAX,CAAhB,CA/B2C,CAiC3C;;AACA,UAAIC,OAAO,GAAGtC,GAAG,CAACuC,UAAJ,CAAe,CAAf,CAAd;AACA,UAAIC,gBAAgB,GACnB,CAACvC,SAAS,CAACK,KAAV,GAAkBgC,OAAO,CAACG,WAA3B,IAA0C,CAD3C;AAEA,UAAIC,eAAe,GAClB,CAACzC,SAAS,CAACO,MAAV,GAAmB8B,OAAO,CAACK,YAA5B,IAA4C,CAD7C;;AAGA,UAAIH,gBAAgB,GAAG,CAAnB,IAAwBE,eAAe,GAAG,CAA9C,EAAiD;AAChDJ,QAAAA,OAAO,CAACM,KAAR,CAAcC,MAAd,GACCH,eAAe,GAAG,KAAlB,GAA0BF,gBAA1B,GAA6C,IAD9C;AAEA;AACD,KA5CD;AA8CA;AACJ;AACA;;;AACI3C,IAAAA,OAAO,CAACjK,SAAR,CAAkB6K,KAAlB,GAA0B,YAAY;AACrC,WAAKT,GAAL,CAASoC,SAAT,GAAqB,EAArB;AACA,KAFD;;AAIA,WAAOvC,OAAP;AACC,GAjED,EADA,GAmEC,YAAY;AACb;AACA,aAASiD,YAAT,GAAwB;AACvB,WAAKC,QAAL,CAAcC,GAAd,GAAoB,KAAKC,SAAL,CAAeC,SAAf,CAAyB,WAAzB,CAApB;AACA,WAAKH,QAAL,CAAcH,KAAd,CAAoBO,OAApB,GAA8B,OAA9B;AACA,WAAKF,SAAL,CAAeL,KAAf,CAAqBO,OAArB,GAA+B,MAA/B;AACA,KANY,CAQb;AACA;;;AACA,QAAI,KAAKC,QAAL,IAAiB,KAAKA,QAAL,IAAiB,GAAtC,EAA2C;AAC1C,UAAIC,MAAM,GAAG,IAAIC,MAAM,CAACC,gBAAxB;AACA,UAAIC,SAAS,GACZtE,wBAAwB,CAACtJ,SAAzB,CAAmC4N,SADpC;;AAEAtE,MAAAA,wBAAwB,CAACtJ,SAAzB,CAAmC4N,SAAnC,GAA+C,UAC9CC,KAD8C,EAE9CC,EAF8C,EAG9CC,EAH8C,EAI9CC,EAJ8C,EAK9CC,EAL8C,EAM9CC,EAN8C,EAO9CC,EAP8C,EAQ9CC,EAR8C,EAS9CC,EAT8C,EAU7C;AACD,YACC,cAAcR,KAAd,IACA,OAAOpM,IAAP,CAAYoM,KAAK,CAACS,QAAlB,CAFD,EAGE;AACD,eAAK,IAAI9O,CAAC,GAAG+O,SAAS,CAAC7O,MAAV,GAAmB,CAAhC,EAAmCF,CAAC,IAAI,CAAxC,EAA2CA,CAAC,EAA5C,EAAgD;AAC/C+O,YAAAA,SAAS,CAAC/O,CAAD,CAAT,GAAe+O,SAAS,CAAC/O,CAAD,CAAT,GAAeiO,MAA9B;AACA;AACD,SAPD,MAOO,IAAI,OAAOW,EAAP,IAAa,WAAjB,EAA8B;AACpCG,UAAAA,SAAS,CAAC,CAAD,CAAT,IAAgBd,MAAhB;AACAc,UAAAA,SAAS,CAAC,CAAD,CAAT,IAAgBd,MAAhB;AACAc,UAAAA,SAAS,CAAC,CAAD,CAAT,IAAgBd,MAAhB;AACAc,UAAAA,SAAS,CAAC,CAAD,CAAT,IAAgBd,MAAhB;AACA;;AAEDG,QAAAA,SAAS,CAAC1N,KAAV,CAAgB,IAAhB,EAAsBqO,SAAtB;AACA,OA1BD;AA2BA;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACI,aAASC,eAAT,CAAyBC,QAAzB,EAAmCC,KAAnC,EAA0C;AACzC,UAAIC,IAAI,GAAG,IAAX;AACAA,MAAAA,IAAI,CAACC,MAAL,GAAcF,KAAd;AACAC,MAAAA,IAAI,CAACE,SAAL,GAAiBJ,QAAjB,CAHyC,CAKzC;;AACA,UAAIE,IAAI,CAACG,gBAAL,KAA0B,IAA9B,EAAoC;AACnC,YAAI5E,EAAE,GAAGe,QAAQ,CAAC8D,aAAT,CAAuB,KAAvB,CAAT;;AACA,YAAIC,QAAQ,GAAG,YAAY;AAC1BL,UAAAA,IAAI,CAACG,gBAAL,GAAwB,KAAxB;;AAEA,cAAIH,IAAI,CAACC,MAAT,EAAiB;AAChBD,YAAAA,IAAI,CAACC,MAAL,CAAYK,IAAZ,CAAiBN,IAAjB;AACA;AACD,SAND;;AAOA,YAAIO,UAAU,GAAG,YAAY;AAC5BP,UAAAA,IAAI,CAACG,gBAAL,GAAwB,IAAxB;;AAEA,cAAIH,IAAI,CAACE,SAAT,EAAoB;AACnBF,YAAAA,IAAI,CAACE,SAAL,CAAeI,IAAf,CAAoBN,IAApB;AACA;AACD,SAND;;AAQAzE,QAAAA,EAAE,CAACiF,OAAH,GAAaH,QAAb;AACA9E,QAAAA,EAAE,CAACkF,OAAH,GAAaJ,QAAb;AACA9E,QAAAA,EAAE,CAACmF,MAAH,GAAYH,UAAZ;AACAhF,QAAAA,EAAE,CAACkD,GAAH,GACC,4IADD,CApBmC,CAqB4G;;AAC/I;AACA,OAvBD,MAuBO,IACNuB,IAAI,CAACG,gBAAL,KAA0B,IAA1B,IACAH,IAAI,CAACE,SAFC,EAGL;AACDF,QAAAA,IAAI,CAACE,SAAL,CAAeI,IAAf,CAAoBN,IAApB;AACA,OALM,MAKA,IAAIA,IAAI,CAACG,gBAAL,KAA0B,KAA1B,IAAmCH,IAAI,CAACC,MAA5C,EAAoD;AAC1DD,QAAAA,IAAI,CAACC,MAAL,CAAYK,IAAZ,CAAiBN,IAAjB;AACA;AACD;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACI,QAAI1E,OAAO,GAAG,UAAUC,EAAV,EAAcC,QAAd,EAAwB;AACrC,WAAKmF,WAAL,GAAmB,KAAnB;AACA,WAAK9B,QAAL,GAAgBjE,WAAW,EAA3B;AAEA,WAAKc,SAAL,GAAiBF,QAAjB;AACA,WAAKkD,SAAL,GAAiBpC,QAAQ,CAAC8D,aAAT,CAAuB,QAAvB,CAAjB;AACA,WAAK1B,SAAL,CAAe3C,KAAf,GAAuBP,QAAQ,CAACO,KAAhC;AACA,WAAK2C,SAAL,CAAezC,MAAf,GAAwBT,QAAQ,CAACS,MAAjC;AACAV,MAAAA,EAAE,CAAC0B,WAAH,CAAe,KAAKyB,SAApB;AACA,WAAKjD,GAAL,GAAWF,EAAX;AACA,WAAKqF,SAAL,GAAiB,KAAKlC,SAAL,CAAemC,UAAf,CAA0B,IAA1B,CAAjB;AACA,WAAKF,WAAL,GAAmB,KAAnB;AACA,WAAKnC,QAAL,GAAgBlC,QAAQ,CAAC8D,aAAT,CAAuB,KAAvB,CAAhB;AACA,WAAK5B,QAAL,CAAcsC,GAAd,GAAoB,UAApB;AACA,WAAKtC,QAAL,CAAcH,KAAd,CAAoBO,OAApB,GAA8B,MAA9B;;AACA,WAAKnD,GAAL,CAASwB,WAAT,CAAqB,KAAKuB,QAA1B;;AACA,WAAK2B,gBAAL,GAAwB,IAAxB;AACA,KAjBD;AAmBA;AACJ;AACA;AACA;AACA;;;AACI7E,IAAAA,OAAO,CAACjK,SAAR,CAAkBsK,IAAlB,GAAyB,UAAUC,OAAV,EAAmB;AAC3C,UAAI4C,QAAQ,GAAG,KAAKA,QAApB;AACA,UAAIoC,SAAS,GAAG,KAAKA,SAArB;AACA,UAAIlF,SAAS,GAAG,KAAKA,SAArB;AAEA,UAAIG,MAAM,GAAGD,OAAO,CAAClJ,cAAR,EAAb;AACA,UAAIoJ,MAAM,GAAGJ,SAAS,CAACK,KAAV,GAAkBF,MAA/B;AACA,UAAIG,OAAO,GAAGN,SAAS,CAACO,MAAV,GAAmBJ,MAAjC;AACA,UAAIkF,aAAa,GAAG7L,IAAI,CAAC8L,KAAL,CAAWlF,MAAX,CAApB;AACA,UAAImF,cAAc,GAAG/L,IAAI,CAAC8L,KAAL,CAAWhF,OAAX,CAArB;AAEAwC,MAAAA,QAAQ,CAACH,KAAT,CAAeO,OAAf,GAAyB,MAAzB;AACA,WAAK1C,KAAL;;AAEA,WAAK,IAAI3J,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGsJ,MAAxB,EAAgCtJ,GAAG,EAAnC,EAAuC;AACtC,aAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGqJ,MAAxB,EAAgCrJ,GAAG,EAAnC,EAAuC;AACtC,cAAI0O,OAAO,GAAGtF,OAAO,CAACtJ,MAAR,CAAeC,GAAf,EAAoBC,GAApB,CAAd;AACA,cAAI2O,KAAK,GAAG3O,GAAG,GAAGsJ,MAAlB;AACA,cAAIsF,IAAI,GAAG7O,GAAG,GAAGyJ,OAAjB;AACA4E,UAAAA,SAAS,CAACS,WAAV,GAAwBH,OAAO,GAC5BxF,SAAS,CAACwB,SADkB,GAE5BxB,SAAS,CAACqB,UAFb;AAGA6D,UAAAA,SAAS,CAACU,SAAV,GAAsB,CAAtB;AACAV,UAAAA,SAAS,CAACW,SAAV,GAAsBL,OAAO,GAC1BxF,SAAS,CAACwB,SADgB,GAE1BxB,SAAS,CAACqB,UAFb;;AAGA6D,UAAAA,SAAS,CAACY,QAAV,CAAmBL,KAAnB,EAA0BC,IAA1B,EAAgCtF,MAAhC,EAAwCE,OAAxC,EAXsC,CAatC;;;AACA4E,UAAAA,SAAS,CAACa,UAAV,CACCvM,IAAI,CAACC,KAAL,CAAWgM,KAAX,IAAoB,GADrB,EAECjM,IAAI,CAACC,KAAL,CAAWiM,IAAX,IAAmB,GAFpB,EAGCL,aAHD,EAICE,cAJD;;AAOAL,UAAAA,SAAS,CAACa,UAAV,CACCvM,IAAI,CAACwM,IAAL,CAAUP,KAAV,IAAmB,GADpB,EAECjM,IAAI,CAACwM,IAAL,CAAUN,IAAV,IAAkB,GAFnB,EAGCL,aAHD,EAICE,cAJD;AAMA;AACD;;AAED,WAAKN,WAAL,GAAmB,IAAnB;AACA,KA9CD;AAgDA;AACJ;AACA;;;AACIrF,IAAAA,OAAO,CAACjK,SAAR,CAAkBsQ,SAAlB,GAA8B,YAAY;AACzC,UAAI,KAAKhB,WAAT,EAAsB;AACrBd,QAAAA,eAAe,CAACS,IAAhB,CAAqB,IAArB,EAA2B/B,YAA3B;AACA;AACD,KAJD;AAMA;AACJ;AACA;AACA;AACA;;;AACIjD,IAAAA,OAAO,CAACjK,SAAR,CAAkBuQ,SAAlB,GAA8B,YAAY;AACzC,aAAO,KAAKjB,WAAZ;AACA,KAFD;AAIA;AACJ;AACA;;;AACIrF,IAAAA,OAAO,CAACjK,SAAR,CAAkB6K,KAAlB,GAA0B,YAAY;AACrC,WAAK0E,SAAL,CAAeiB,SAAf,CACC,CADD,EAEC,CAFD,EAGC,KAAKnD,SAAL,CAAe3C,KAHhB,EAIC,KAAK2C,SAAL,CAAezC,MAJhB;;AAMA,WAAK0E,WAAL,GAAmB,KAAnB;AACA,KARD;AAUA;AACJ;AACA;AACA;;;AACIrF,IAAAA,OAAO,CAACjK,SAAR,CAAkB2P,KAAlB,GAA0B,UAAUc,OAAV,EAAmB;AAC5C,UAAI,CAACA,OAAL,EAAc;AACb,eAAOA,OAAP;AACA;;AAED,aAAO5M,IAAI,CAACC,KAAL,CAAW2M,OAAO,GAAG,IAArB,IAA6B,IAApC;AACA,KAND;;AAQA,WAAOxG,OAAP;AACC,GApND,EArEH;AA2RA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACC,WAASyG,cAAT,CAAwBC,KAAxB,EAA+BC,aAA/B,EAA8C;AAC7C,QAAIC,KAAK,GAAG,CAAZ;;AACA,QAAInR,MAAM,GAAGoR,cAAc,CAACH,KAAD,CAA3B;;AAEA,SAAK,IAAInR,CAAC,GAAG,CAAR,EAAWuR,GAAG,GAAG3H,iBAAiB,CAAC1J,MAAxC,EAAgDF,CAAC,IAAIuR,GAArD,EAA0DvR,CAAC,EAA3D,EAA+D;AAC9D,UAAIwR,MAAM,GAAG,CAAb;;AAEA,cAAQJ,aAAR;AACC,aAAKvK,mBAAmB,CAACC,CAAzB;AACC0K,UAAAA,MAAM,GAAG5H,iBAAiB,CAAC5J,CAAD,CAAjB,CAAqB,CAArB,CAAT;AACA;;AACD,aAAK6G,mBAAmB,CAACE,CAAzB;AACCyK,UAAAA,MAAM,GAAG5H,iBAAiB,CAAC5J,CAAD,CAAjB,CAAqB,CAArB,CAAT;AACA;;AACD,aAAK6G,mBAAmB,CAACG,CAAzB;AACCwK,UAAAA,MAAM,GAAG5H,iBAAiB,CAAC5J,CAAD,CAAjB,CAAqB,CAArB,CAAT;AACA;;AACD,aAAK6G,mBAAmB,CAACI,CAAzB;AACCuK,UAAAA,MAAM,GAAG5H,iBAAiB,CAAC5J,CAAD,CAAjB,CAAqB,CAArB,CAAT;AACA;AAZF;;AAeA,UAAIE,MAAM,IAAIsR,MAAd,EAAsB;AACrB;AACA,OAFD,MAEO;AACNH,QAAAA,KAAK;AACL;AACD;;AAED,QAAIA,KAAK,GAAGzH,iBAAiB,CAAC1J,MAA9B,EAAsC;AACrC,YAAM,IAAI0B,KAAJ,CAAU,eAAV,CAAN;AACA;;AAED,WAAOyP,KAAP;AACA;;AAED,WAASC,cAAT,CAAwBH,KAAxB,EAA+B;AAC9B,QAAIM,YAAY,GAAGC,SAAS,CAACP,KAAD,CAAT,CACjB9G,QADiB,GAEjBsH,OAFiB,CAET,mBAFS,EAEY,GAFZ,CAAnB;AAGA,WAAOF,YAAY,CAACvR,MAAb,IAAuBuR,YAAY,CAACvR,MAAb,IAAuBiR,KAAvB,GAA+B,CAA/B,GAAmC,CAA1D,CAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACC1R,EAAAA,MAAM,GAAG,UAAUiL,EAAV,EAAckH,OAAd,EAAuB;AAC/B,SAAK/G,SAAL,GAAiB;AAChBK,MAAAA,KAAK,EAAE,GADS;AAEhBE,MAAAA,MAAM,EAAE,GAFQ;AAGhBnK,MAAAA,UAAU,EAAE,CAHI;AAIhBoL,MAAAA,SAAS,EAAE,SAJK;AAKhBH,MAAAA,UAAU,EAAE,SALI;AAMhB2F,MAAAA,YAAY,EAAEhL,mBAAmB,CAACI;AANlB,KAAjB;;AASA,QAAI,OAAO2K,OAAP,KAAmB,QAAvB,EAAiC;AAChCA,MAAAA,OAAO,GAAG;AACTE,QAAAA,IAAI,EAAEF;AADG,OAAV;AAGA,KAd8B,CAgB/B;;;AACA,QAAIA,OAAJ,EAAa;AACZ,WAAK,IAAI5R,CAAT,IAAc4R,OAAd,EAAuB;AACtB,aAAK/G,SAAL,CAAe7K,CAAf,IAAoB4R,OAAO,CAAC5R,CAAD,CAA3B;AACA;AACD;;AAED,QAAI,OAAO0K,EAAP,IAAa,QAAjB,EAA2B;AAC1BA,MAAAA,EAAE,GAAGe,QAAQ,CAACsG,cAAT,CAAwBrH,EAAxB,CAAL;AACA;;AAED,QAAI,KAAKG,SAAL,CAAe8B,MAAnB,EAA2B;AAC1BlC,MAAAA,OAAO,GAAGD,SAAV;AACA;;AAED,SAAKwD,QAAL,GAAgBjE,WAAW,EAA3B;AACA,SAAKa,GAAL,GAAWF,EAAX;AACA,SAAKsH,QAAL,GAAgB,IAAhB;AACA,SAAKC,SAAL,GAAiB,IAAIxH,OAAJ,CAAY,KAAKG,GAAjB,EAAsB,KAAKC,SAA3B,CAAjB;;AAEA,QAAI,KAAKA,SAAL,CAAeiH,IAAnB,EAAyB;AACxB,WAAKI,QAAL,CAAc,KAAKrH,SAAL,CAAeiH,IAA7B;AACA;AACD,GAvCD;AAyCA;AACD;AACA;AACA;AACA;;;AACCrS,EAAAA,MAAM,CAACe,SAAP,CAAiB0R,QAAjB,GAA4B,UAAUf,KAAV,EAAiB;AAC5C,SAAKa,QAAL,GAAgB,IAAIhR,WAAJ,CACfkQ,cAAc,CAACC,KAAD,EAAQ,KAAKtG,SAAL,CAAegH,YAAvB,CADC,EAEf,KAAKhH,SAAL,CAAegH,YAFA,CAAhB;;AAIA,SAAKG,QAAL,CAAczQ,OAAd,CAAsB4P,KAAtB;;AACA,SAAKa,QAAL,CAAclQ,IAAd;;AACA,SAAK8I,GAAL,CAASuH,KAAT,GAAiBhB,KAAjB;;AACA,SAAKc,SAAL,CAAenH,IAAf,CAAoB,KAAKkH,QAAzB;;AACA,SAAKlB,SAAL;AACA,GAVD;AAYA;AACD;AACA;AACA;AACA;AACA;AACA;;;AACCrR,EAAAA,MAAM,CAACe,SAAP,CAAiBsQ,SAAjB,GAA6B,YAAY;AACxC,QACC,OAAO,KAAKmB,SAAL,CAAenB,SAAtB,IAAmC,UAAnC,KACC,CAAC,KAAK9C,QAAN,IAAkB,KAAKA,QAAL,IAAiB,CADpC,CADD,EAGE;AACD,WAAKiE,SAAL,CAAenB,SAAf;AACA;AACD,GAPD;AASA;AACD;AACA;;;AACCrR,EAAAA,MAAM,CAACe,SAAP,CAAiB6K,KAAjB,GAAyB,YAAY;AACpC,SAAK4G,SAAL,CAAe5G,KAAf;AACA,GAFD;AAIA;AACD;AACA;;;AACC5L,EAAAA,MAAM,CAAC2S,YAAP,GAAsBvL,mBAAtB;AACA,CA1hDD","sourcesContent":["/**\n * @fileoverview\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @author davidshimjs\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n */\nvar QRCode;\n\n(function () {\n\t//---------------------------------------------------------------------\n\t// QRCode for JavaScript\n\t//\n\t// Copyright (c) 2009 Kazuhiko Arase\n\t//\n\t// URL: http://www.d-project.com/\n\t//\n\t// Licensed under the MIT license:\n\t//   http://www.opensource.org/licenses/mit-license.php\n\t//\n\t// The word \"QR Code\" is registered trademark of\n\t// DENSO WAVE INCORPORATED\n\t//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n\t//\n\t//---------------------------------------------------------------------\n\tfunction QR8bitByte(data) {\n\t\tthis.mode = QRMode.MODE_8BIT_BYTE;\n\t\tthis.data = data;\n\t\tthis.parsedData = [];\n\n\t\t// Added to support UTF-8 Characters\n\t\tfor (var i = 0, l = this.data.length; i < l; i++) {\n\t\t\tvar byteArray = [];\n\t\t\tvar code = this.data.charCodeAt(i);\n\n\t\t\tif (code > 0x10000) {\n\t\t\t\tbyteArray[0] = 0xf0 | ((code & 0x1c0000) >>> 18);\n\t\t\t\tbyteArray[1] = 0x80 | ((code & 0x3f000) >>> 12);\n\t\t\t\tbyteArray[2] = 0x80 | ((code & 0xfc0) >>> 6);\n\t\t\t\tbyteArray[3] = 0x80 | (code & 0x3f);\n\t\t\t} else if (code > 0x800) {\n\t\t\t\tbyteArray[0] = 0xe0 | ((code & 0xf000) >>> 12);\n\t\t\t\tbyteArray[1] = 0x80 | ((code & 0xfc0) >>> 6);\n\t\t\t\tbyteArray[2] = 0x80 | (code & 0x3f);\n\t\t\t} else if (code > 0x80) {\n\t\t\t\tbyteArray[0] = 0xc0 | ((code & 0x7c0) >>> 6);\n\t\t\t\tbyteArray[1] = 0x80 | (code & 0x3f);\n\t\t\t} else {\n\t\t\t\tbyteArray[0] = code;\n\t\t\t}\n\n\t\t\tthis.parsedData.push(byteArray);\n\t\t}\n\n\t\tthis.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n\t\tif (this.parsedData.length != this.data.length) {\n\t\t\tthis.parsedData.unshift(191);\n\t\t\tthis.parsedData.unshift(187);\n\t\t\tthis.parsedData.unshift(239);\n\t\t}\n\t}\n\n\tQR8bitByte.prototype = {\n\t\tgetLength: function (buffer) {\n\t\t\treturn this.parsedData.length;\n\t\t},\n\t\twrite: function (buffer) {\n\t\t\tfor (var i = 0, l = this.parsedData.length; i < l; i++) {\n\t\t\t\tbuffer.put(this.parsedData[i], 8);\n\t\t\t}\n\t\t},\n\t};\n\n\tfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n\t\tthis.typeNumber = typeNumber;\n\t\tthis.errorCorrectLevel = errorCorrectLevel;\n\t\tthis.modules = null;\n\t\tthis.moduleCount = 0;\n\t\tthis.dataCache = null;\n\t\tthis.dataList = [];\n\t}\n\n\tQRCodeModel.prototype = {\n\t\taddData: function (data) {\n\t\t\tvar newData = new QR8bitByte(data);\n\t\t\tthis.dataList.push(newData);\n\t\t\tthis.dataCache = null;\n\t\t},\n\t\tisDark: function (row, col) {\n\t\t\tif (\n\t\t\t\trow < 0 ||\n\t\t\t\tthis.moduleCount <= row ||\n\t\t\t\tcol < 0 ||\n\t\t\t\tthis.moduleCount <= col\n\t\t\t) {\n\t\t\t\tthrow new Error(row + \",\" + col);\n\t\t\t}\n\t\t\treturn this.modules[row][col];\n\t\t},\n\t\tgetModuleCount: function () {\n\t\t\treturn this.moduleCount;\n\t\t},\n\t\tmake: function () {\n\t\t\tthis.makeImpl(false, this.getBestMaskPattern());\n\t\t},\n\t\tmakeImpl: function (test, maskPattern) {\n\t\t\tthis.moduleCount = this.typeNumber * 4 + 17;\n\t\t\tthis.modules = new Array(this.moduleCount);\n\t\t\tfor (var row = 0; row < this.moduleCount; row++) {\n\t\t\t\tthis.modules[row] = new Array(this.moduleCount);\n\t\t\t\tfor (var col = 0; col < this.moduleCount; col++) {\n\t\t\t\t\tthis.modules[row][col] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setupPositionProbePattern(0, 0);\n\t\t\tthis.setupPositionProbePattern(this.moduleCount - 7, 0);\n\t\t\tthis.setupPositionProbePattern(0, this.moduleCount - 7);\n\t\t\tthis.setupPositionAdjustPattern();\n\t\t\tthis.setupTimingPattern();\n\t\t\tthis.setupTypeInfo(test, maskPattern);\n\t\t\tif (this.typeNumber >= 7) {\n\t\t\t\tthis.setupTypeNumber(test);\n\t\t\t}\n\t\t\tif (this.dataCache == null) {\n\t\t\t\tthis.dataCache = QRCodeModel.createData(\n\t\t\t\t\tthis.typeNumber,\n\t\t\t\t\tthis.errorCorrectLevel,\n\t\t\t\t\tthis.dataList\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.mapData(this.dataCache, maskPattern);\n\t\t},\n\t\tsetupPositionProbePattern: function (row, col) {\n\t\t\tfor (var r = -1; r <= 7; r++) {\n\t\t\t\tif (row + r <= -1 || this.moduleCount <= row + r) continue;\n\t\t\t\tfor (var c = -1; c <= 7; c++) {\n\t\t\t\t\tif (col + c <= -1 || this.moduleCount <= col + c) continue;\n\t\t\t\t\tif (\n\t\t\t\t\t\t(0 <= r && r <= 6 && (c == 0 || c == 6)) ||\n\t\t\t\t\t\t(0 <= c && c <= 6 && (r == 0 || r == 6)) ||\n\t\t\t\t\t\t(2 <= r && r <= 4 && 2 <= c && c <= 4)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetBestMaskPattern: function () {\n\t\t\tvar minLostPoint = 0;\n\t\t\tvar pattern = 0;\n\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\tthis.makeImpl(true, i);\n\t\t\t\tvar lostPoint = QRUtil.getLostPoint(this);\n\t\t\t\tif (i == 0 || minLostPoint > lostPoint) {\n\t\t\t\t\tminLostPoint = lostPoint;\n\t\t\t\t\tpattern = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn pattern;\n\t\t},\n\t\tcreateMovieClip: function (target_mc, instance_name, depth) {\n\t\t\tvar qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n\t\t\tvar cs = 1;\n\t\t\tthis.make();\n\t\t\tfor (var row = 0; row < this.modules.length; row++) {\n\t\t\t\tvar y = row * cs;\n\t\t\t\tfor (var col = 0; col < this.modules[row].length; col++) {\n\t\t\t\t\tvar x = col * cs;\n\t\t\t\t\tvar dark = this.modules[row][col];\n\t\t\t\t\tif (dark) {\n\t\t\t\t\t\tqr_mc.beginFill(0, 100);\n\t\t\t\t\t\tqr_mc.moveTo(x, y);\n\t\t\t\t\t\tqr_mc.lineTo(x + cs, y);\n\t\t\t\t\t\tqr_mc.lineTo(x + cs, y + cs);\n\t\t\t\t\t\tqr_mc.lineTo(x, y + cs);\n\t\t\t\t\t\tqr_mc.endFill();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn qr_mc;\n\t\t},\n\t\tsetupTimingPattern: function () {\n\t\t\tfor (var r = 8; r < this.moduleCount - 8; r++) {\n\t\t\t\tif (this.modules[r][6] != null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis.modules[r][6] = r % 2 == 0;\n\t\t\t}\n\t\t\tfor (var c = 8; c < this.moduleCount - 8; c++) {\n\t\t\t\tif (this.modules[6][c] != null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis.modules[6][c] = c % 2 == 0;\n\t\t\t}\n\t\t},\n\t\tsetupPositionAdjustPattern: function () {\n\t\t\tvar pos = QRUtil.getPatternPosition(this.typeNumber);\n\t\t\tfor (var i = 0; i < pos.length; i++) {\n\t\t\t\tfor (var j = 0; j < pos.length; j++) {\n\t\t\t\t\tvar row = pos[i];\n\t\t\t\t\tvar col = pos[j];\n\t\t\t\t\tif (this.modules[row][col] != null) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfor (var r = -2; r <= 2; r++) {\n\t\t\t\t\t\tfor (var c = -2; c <= 2; c++) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tr == -2 ||\n\t\t\t\t\t\t\t\tr == 2 ||\n\t\t\t\t\t\t\t\tc == -2 ||\n\t\t\t\t\t\t\t\tc == 2 ||\n\t\t\t\t\t\t\t\t(r == 0 && c == 0)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetupTypeNumber: function (test) {\n\t\t\tvar bits = QRUtil.getBCHTypeNumber(this.typeNumber);\n\t\t\tfor (var i = 0; i < 18; i++) {\n\t\t\t\tvar mod = !test && ((bits >> i) & 1) == 1;\n\t\t\t\tthis.modules[Math.floor(i / 3)][\n\t\t\t\t\t(i % 3) + this.moduleCount - 8 - 3\n\t\t\t\t] = mod;\n\t\t\t}\n\t\t\tfor (var i = 0; i < 18; i++) {\n\t\t\t\tvar mod = !test && ((bits >> i) & 1) == 1;\n\t\t\t\tthis.modules[(i % 3) + this.moduleCount - 8 - 3][\n\t\t\t\t\tMath.floor(i / 3)\n\t\t\t\t] = mod;\n\t\t\t}\n\t\t},\n\t\tsetupTypeInfo: function (test, maskPattern) {\n\t\t\tvar data = (this.errorCorrectLevel << 3) | maskPattern;\n\t\t\tvar bits = QRUtil.getBCHTypeInfo(data);\n\t\t\tfor (var i = 0; i < 15; i++) {\n\t\t\t\tvar mod = !test && ((bits >> i) & 1) == 1;\n\t\t\t\tif (i < 6) {\n\t\t\t\t\tthis.modules[i][8] = mod;\n\t\t\t\t} else if (i < 8) {\n\t\t\t\t\tthis.modules[i + 1][8] = mod;\n\t\t\t\t} else {\n\t\t\t\t\tthis.modules[this.moduleCount - 15 + i][8] = mod;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < 15; i++) {\n\t\t\t\tvar mod = !test && ((bits >> i) & 1) == 1;\n\t\t\t\tif (i < 8) {\n\t\t\t\t\tthis.modules[8][this.moduleCount - i - 1] = mod;\n\t\t\t\t} else if (i < 9) {\n\t\t\t\t\tthis.modules[8][15 - i - 1 + 1] = mod;\n\t\t\t\t} else {\n\t\t\t\t\tthis.modules[8][15 - i - 1] = mod;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.modules[this.moduleCount - 8][8] = !test;\n\t\t},\n\t\tmapData: function (data, maskPattern) {\n\t\t\tvar inc = -1;\n\t\t\tvar row = this.moduleCount - 1;\n\t\t\tvar bitIndex = 7;\n\t\t\tvar byteIndex = 0;\n\t\t\tfor (var col = this.moduleCount - 1; col > 0; col -= 2) {\n\t\t\t\tif (col == 6) col--;\n\t\t\t\twhile (true) {\n\t\t\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\t\t\tif (this.modules[row][col - c] == null) {\n\t\t\t\t\t\t\tvar dark = false;\n\t\t\t\t\t\t\tif (byteIndex < data.length) {\n\t\t\t\t\t\t\t\tdark =\n\t\t\t\t\t\t\t\t\t((data[byteIndex] >>> bitIndex) & 1) == 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar mask = QRUtil.getMask(\n\t\t\t\t\t\t\t\tmaskPattern,\n\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\tcol - c\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (mask) {\n\t\t\t\t\t\t\t\tdark = !dark;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.modules[row][col - c] = dark;\n\t\t\t\t\t\t\tbitIndex--;\n\t\t\t\t\t\t\tif (bitIndex == -1) {\n\t\t\t\t\t\t\t\tbyteIndex++;\n\t\t\t\t\t\t\t\tbitIndex = 7;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\trow += inc;\n\t\t\t\t\tif (row < 0 || this.moduleCount <= row) {\n\t\t\t\t\t\trow -= inc;\n\t\t\t\t\t\tinc = -inc;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n\tQRCodeModel.PAD0 = 0xec;\n\tQRCodeModel.PAD1 = 0x11;\n\tQRCodeModel.createData = function (\n\t\ttypeNumber,\n\t\terrorCorrectLevel,\n\t\tdataList\n\t) {\n\t\tvar rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n\t\tvar buffer = new QRBitBuffer();\n\t\tfor (var i = 0; i < dataList.length; i++) {\n\t\t\tvar data = dataList[i];\n\t\t\tbuffer.put(data.mode, 4);\n\t\t\tbuffer.put(\n\t\t\t\tdata.getLength(),\n\t\t\t\tQRUtil.getLengthInBits(data.mode, typeNumber)\n\t\t\t);\n\t\t\tdata.write(buffer);\n\t\t}\n\t\tvar totalDataCount = 0;\n\t\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t\t}\n\t\tif (buffer.getLengthInBits() > totalDataCount * 8) {\n\t\t\tthrow new Error(\n\t\t\t\t\"code length overflow. (\" +\n\t\t\t\t\tbuffer.getLengthInBits() +\n\t\t\t\t\t\">\" +\n\t\t\t\t\ttotalDataCount * 8 +\n\t\t\t\t\t\")\"\n\t\t\t);\n\t\t}\n\t\tif (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n\t\t\tbuffer.put(0, 4);\n\t\t}\n\t\twhile (buffer.getLengthInBits() % 8 != 0) {\n\t\t\tbuffer.putBit(false);\n\t\t}\n\t\twhile (true) {\n\t\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbuffer.put(QRCodeModel.PAD0, 8);\n\t\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbuffer.put(QRCodeModel.PAD1, 8);\n\t\t}\n\t\treturn QRCodeModel.createBytes(buffer, rsBlocks);\n\t};\n\tQRCodeModel.createBytes = function (buffer, rsBlocks) {\n\t\tvar offset = 0;\n\t\tvar maxDcCount = 0;\n\t\tvar maxEcCount = 0;\n\t\tvar dcdata = new Array(rsBlocks.length);\n\t\tvar ecdata = new Array(rsBlocks.length);\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tvar dcCount = rsBlocks[r].dataCount;\n\t\t\tvar ecCount = rsBlocks[r].totalCount - dcCount;\n\t\t\tmaxDcCount = Math.max(maxDcCount, dcCount);\n\t\t\tmaxEcCount = Math.max(maxEcCount, ecCount);\n\t\t\tdcdata[r] = new Array(dcCount);\n\t\t\tfor (var i = 0; i < dcdata[r].length; i++) {\n\t\t\t\tdcdata[r][i] = 0xff & buffer.buffer[i + offset];\n\t\t\t}\n\t\t\toffset += dcCount;\n\t\t\tvar rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n\t\t\tvar rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\t\t\tvar modPoly = rawPoly.mod(rsPoly);\n\t\t\tecdata[r] = new Array(rsPoly.getLength() - 1);\n\t\t\tfor (var i = 0; i < ecdata[r].length; i++) {\n\t\t\t\tvar modIndex = i + modPoly.getLength() - ecdata[r].length;\n\t\t\t\tecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;\n\t\t\t}\n\t\t}\n\t\tvar totalCodeCount = 0;\n\t\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\t\ttotalCodeCount += rsBlocks[i].totalCount;\n\t\t}\n\t\tvar data = new Array(totalCodeCount);\n\t\tvar index = 0;\n\t\tfor (var i = 0; i < maxDcCount; i++) {\n\t\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\t\tif (i < dcdata[r].length) {\n\t\t\t\t\tdata[index++] = dcdata[r][i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < maxEcCount; i++) {\n\t\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\t\tif (i < ecdata[r].length) {\n\t\t\t\t\tdata[index++] = ecdata[r][i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn data;\n\t};\n\tvar QRMode = {\n\t\tMODE_NUMBER: 1 << 0,\n\t\tMODE_ALPHA_NUM: 1 << 1,\n\t\tMODE_8BIT_BYTE: 1 << 2,\n\t\tMODE_KANJI: 1 << 3,\n\t};\n\tvar QRErrorCorrectLevel = { L: 1, M: 0, Q: 3, H: 2 };\n\tvar QRMaskPattern = {\n\t\tPATTERN000: 0,\n\t\tPATTERN001: 1,\n\t\tPATTERN010: 2,\n\t\tPATTERN011: 3,\n\t\tPATTERN100: 4,\n\t\tPATTERN101: 5,\n\t\tPATTERN110: 6,\n\t\tPATTERN111: 7,\n\t};\n\tvar QRUtil = {\n\t\tPATTERN_POSITION_TABLE: [\n\t\t\t[],\n\t\t\t[6, 18],\n\t\t\t[6, 22],\n\t\t\t[6, 26],\n\t\t\t[6, 30],\n\t\t\t[6, 34],\n\t\t\t[6, 22, 38],\n\t\t\t[6, 24, 42],\n\t\t\t[6, 26, 46],\n\t\t\t[6, 28, 50],\n\t\t\t[6, 30, 54],\n\t\t\t[6, 32, 58],\n\t\t\t[6, 34, 62],\n\t\t\t[6, 26, 46, 66],\n\t\t\t[6, 26, 48, 70],\n\t\t\t[6, 26, 50, 74],\n\t\t\t[6, 30, 54, 78],\n\t\t\t[6, 30, 56, 82],\n\t\t\t[6, 30, 58, 86],\n\t\t\t[6, 34, 62, 90],\n\t\t\t[6, 28, 50, 72, 94],\n\t\t\t[6, 26, 50, 74, 98],\n\t\t\t[6, 30, 54, 78, 102],\n\t\t\t[6, 28, 54, 80, 106],\n\t\t\t[6, 32, 58, 84, 110],\n\t\t\t[6, 30, 58, 86, 114],\n\t\t\t[6, 34, 62, 90, 118],\n\t\t\t[6, 26, 50, 74, 98, 122],\n\t\t\t[6, 30, 54, 78, 102, 126],\n\t\t\t[6, 26, 52, 78, 104, 130],\n\t\t\t[6, 30, 56, 82, 108, 134],\n\t\t\t[6, 34, 60, 86, 112, 138],\n\t\t\t[6, 30, 58, 86, 114, 142],\n\t\t\t[6, 34, 62, 90, 118, 146],\n\t\t\t[6, 30, 54, 78, 102, 126, 150],\n\t\t\t[6, 24, 50, 76, 102, 128, 154],\n\t\t\t[6, 28, 54, 80, 106, 132, 158],\n\t\t\t[6, 32, 58, 84, 110, 136, 162],\n\t\t\t[6, 26, 54, 82, 110, 138, 166],\n\t\t\t[6, 30, 58, 86, 114, 142, 170],\n\t\t],\n\t\tG15:\n\t\t\t(1 << 10) |\n\t\t\t(1 << 8) |\n\t\t\t(1 << 5) |\n\t\t\t(1 << 4) |\n\t\t\t(1 << 2) |\n\t\t\t(1 << 1) |\n\t\t\t(1 << 0),\n\t\tG18:\n\t\t\t(1 << 12) |\n\t\t\t(1 << 11) |\n\t\t\t(1 << 10) |\n\t\t\t(1 << 9) |\n\t\t\t(1 << 8) |\n\t\t\t(1 << 5) |\n\t\t\t(1 << 2) |\n\t\t\t(1 << 0),\n\t\tG15_MASK: (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1),\n\t\tgetBCHTypeInfo: function (data) {\n\t\t\tvar d = data << 10;\n\t\t\twhile (\n\t\t\t\tQRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >=\n\t\t\t\t0\n\t\t\t) {\n\t\t\t\td ^=\n\t\t\t\t\tQRUtil.G15 <<\n\t\t\t\t\t(QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15));\n\t\t\t}\n\t\t\treturn ((data << 10) | d) ^ QRUtil.G15_MASK;\n\t\t},\n\t\tgetBCHTypeNumber: function (data) {\n\t\t\tvar d = data << 12;\n\t\t\twhile (\n\t\t\t\tQRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >=\n\t\t\t\t0\n\t\t\t) {\n\t\t\t\td ^=\n\t\t\t\t\tQRUtil.G18 <<\n\t\t\t\t\t(QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18));\n\t\t\t}\n\t\t\treturn (data << 12) | d;\n\t\t},\n\t\tgetBCHDigit: function (data) {\n\t\t\tvar digit = 0;\n\t\t\twhile (data != 0) {\n\t\t\t\tdigit++;\n\t\t\t\tdata >>>= 1;\n\t\t\t}\n\t\t\treturn digit;\n\t\t},\n\t\tgetPatternPosition: function (typeNumber) {\n\t\t\treturn QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n\t\t},\n\t\tgetMask: function (maskPattern, i, j) {\n\t\t\tswitch (maskPattern) {\n\t\t\t\tcase QRMaskPattern.PATTERN000:\n\t\t\t\t\treturn (i + j) % 2 == 0;\n\t\t\t\tcase QRMaskPattern.PATTERN001:\n\t\t\t\t\treturn i % 2 == 0;\n\t\t\t\tcase QRMaskPattern.PATTERN010:\n\t\t\t\t\treturn j % 3 == 0;\n\t\t\t\tcase QRMaskPattern.PATTERN011:\n\t\t\t\t\treturn (i + j) % 3 == 0;\n\t\t\t\tcase QRMaskPattern.PATTERN100:\n\t\t\t\t\treturn (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\n\t\t\t\tcase QRMaskPattern.PATTERN101:\n\t\t\t\t\treturn ((i * j) % 2) + ((i * j) % 3) == 0;\n\t\t\t\tcase QRMaskPattern.PATTERN110:\n\t\t\t\t\treturn (((i * j) % 2) + ((i * j) % 3)) % 2 == 0;\n\t\t\t\tcase QRMaskPattern.PATTERN111:\n\t\t\t\t\treturn (((i * j) % 3) + ((i + j) % 2)) % 2 == 0;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(\"bad maskPattern:\" + maskPattern);\n\t\t\t}\n\t\t},\n\t\tgetErrorCorrectPolynomial: function (errorCorrectLength) {\n\t\t\tvar a = new QRPolynomial([1], 0);\n\t\t\tfor (var i = 0; i < errorCorrectLength; i++) {\n\t\t\t\ta = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0));\n\t\t\t}\n\t\t\treturn a;\n\t\t},\n\t\tgetLengthInBits: function (mode, type) {\n\t\t\tif (1 <= type && type < 10) {\n\t\t\t\tswitch (mode) {\n\t\t\t\t\tcase QRMode.MODE_NUMBER:\n\t\t\t\t\t\treturn 10;\n\t\t\t\t\tcase QRMode.MODE_ALPHA_NUM:\n\t\t\t\t\t\treturn 9;\n\t\t\t\t\tcase QRMode.MODE_8BIT_BYTE:\n\t\t\t\t\t\treturn 8;\n\t\t\t\t\tcase QRMode.MODE_KANJI:\n\t\t\t\t\t\treturn 8;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(\"mode:\" + mode);\n\t\t\t\t}\n\t\t\t} else if (type < 27) {\n\t\t\t\tswitch (mode) {\n\t\t\t\t\tcase QRMode.MODE_NUMBER:\n\t\t\t\t\t\treturn 12;\n\t\t\t\t\tcase QRMode.MODE_ALPHA_NUM:\n\t\t\t\t\t\treturn 11;\n\t\t\t\t\tcase QRMode.MODE_8BIT_BYTE:\n\t\t\t\t\t\treturn 16;\n\t\t\t\t\tcase QRMode.MODE_KANJI:\n\t\t\t\t\t\treturn 10;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(\"mode:\" + mode);\n\t\t\t\t}\n\t\t\t} else if (type < 41) {\n\t\t\t\tswitch (mode) {\n\t\t\t\t\tcase QRMode.MODE_NUMBER:\n\t\t\t\t\t\treturn 14;\n\t\t\t\t\tcase QRMode.MODE_ALPHA_NUM:\n\t\t\t\t\t\treturn 13;\n\t\t\t\t\tcase QRMode.MODE_8BIT_BYTE:\n\t\t\t\t\t\treturn 16;\n\t\t\t\t\tcase QRMode.MODE_KANJI:\n\t\t\t\t\t\treturn 12;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(\"mode:\" + mode);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"type:\" + type);\n\t\t\t}\n\t\t},\n\t\tgetLostPoint: function (qrCode) {\n\t\t\tvar moduleCount = qrCode.getModuleCount();\n\t\t\tvar lostPoint = 0;\n\t\t\tfor (var row = 0; row < moduleCount; row++) {\n\t\t\t\tfor (var col = 0; col < moduleCount; col++) {\n\t\t\t\t\tvar sameCount = 0;\n\t\t\t\t\tvar dark = qrCode.isDark(row, col);\n\t\t\t\t\tfor (var r = -1; r <= 1; r++) {\n\t\t\t\t\t\tif (row + r < 0 || moduleCount <= row + r) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (var c = -1; c <= 1; c++) {\n\t\t\t\t\t\t\tif (col + c < 0 || moduleCount <= col + c) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (r == 0 && c == 0) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (dark == qrCode.isDark(row + r, col + c)) {\n\t\t\t\t\t\t\t\tsameCount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (sameCount > 5) {\n\t\t\t\t\t\tlostPoint += 3 + sameCount - 5;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var row = 0; row < moduleCount - 1; row++) {\n\t\t\t\tfor (var col = 0; col < moduleCount - 1; col++) {\n\t\t\t\t\tvar count = 0;\n\t\t\t\t\tif (qrCode.isDark(row, col)) count++;\n\t\t\t\t\tif (qrCode.isDark(row + 1, col)) count++;\n\t\t\t\t\tif (qrCode.isDark(row, col + 1)) count++;\n\t\t\t\t\tif (qrCode.isDark(row + 1, col + 1)) count++;\n\t\t\t\t\tif (count == 0 || count == 4) {\n\t\t\t\t\t\tlostPoint += 3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var row = 0; row < moduleCount; row++) {\n\t\t\t\tfor (var col = 0; col < moduleCount - 6; col++) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tqrCode.isDark(row, col) &&\n\t\t\t\t\t\t!qrCode.isDark(row, col + 1) &&\n\t\t\t\t\t\tqrCode.isDark(row, col + 2) &&\n\t\t\t\t\t\tqrCode.isDark(row, col + 3) &&\n\t\t\t\t\t\tqrCode.isDark(row, col + 4) &&\n\t\t\t\t\t\t!qrCode.isDark(row, col + 5) &&\n\t\t\t\t\t\tqrCode.isDark(row, col + 6)\n\t\t\t\t\t) {\n\t\t\t\t\t\tlostPoint += 40;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var col = 0; col < moduleCount; col++) {\n\t\t\t\tfor (var row = 0; row < moduleCount - 6; row++) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tqrCode.isDark(row, col) &&\n\t\t\t\t\t\t!qrCode.isDark(row + 1, col) &&\n\t\t\t\t\t\tqrCode.isDark(row + 2, col) &&\n\t\t\t\t\t\tqrCode.isDark(row + 3, col) &&\n\t\t\t\t\t\tqrCode.isDark(row + 4, col) &&\n\t\t\t\t\t\t!qrCode.isDark(row + 5, col) &&\n\t\t\t\t\t\tqrCode.isDark(row + 6, col)\n\t\t\t\t\t) {\n\t\t\t\t\t\tlostPoint += 40;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar darkCount = 0;\n\t\t\tfor (var col = 0; col < moduleCount; col++) {\n\t\t\t\tfor (var row = 0; row < moduleCount; row++) {\n\t\t\t\t\tif (qrCode.isDark(row, col)) {\n\t\t\t\t\t\tdarkCount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar ratio =\n\t\t\t\tMath.abs((100 * darkCount) / moduleCount / moduleCount - 50) /\n\t\t\t\t5;\n\t\t\tlostPoint += ratio * 10;\n\t\t\treturn lostPoint;\n\t\t},\n\t};\n\tvar QRMath = {\n\t\tglog: function (n) {\n\t\t\tif (n < 1) {\n\t\t\t\tthrow new Error(\"glog(\" + n + \")\");\n\t\t\t}\n\t\t\treturn QRMath.LOG_TABLE[n];\n\t\t},\n\t\tgexp: function (n) {\n\t\t\twhile (n < 0) {\n\t\t\t\tn += 255;\n\t\t\t}\n\t\t\twhile (n >= 256) {\n\t\t\t\tn -= 255;\n\t\t\t}\n\t\t\treturn QRMath.EXP_TABLE[n];\n\t\t},\n\t\tEXP_TABLE: new Array(256),\n\t\tLOG_TABLE: new Array(256),\n\t};\n\tfor (var i = 0; i < 8; i++) {\n\t\tQRMath.EXP_TABLE[i] = 1 << i;\n\t}\n\tfor (var i = 8; i < 256; i++) {\n\t\tQRMath.EXP_TABLE[i] =\n\t\t\tQRMath.EXP_TABLE[i - 4] ^\n\t\t\tQRMath.EXP_TABLE[i - 5] ^\n\t\t\tQRMath.EXP_TABLE[i - 6] ^\n\t\t\tQRMath.EXP_TABLE[i - 8];\n\t}\n\tfor (var i = 0; i < 255; i++) {\n\t\tQRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;\n\t}\n\tfunction QRPolynomial(num, shift) {\n\t\tif (num.length == undefined) {\n\t\t\tthrow new Error(num.length + \"/\" + shift);\n\t\t}\n\t\tvar offset = 0;\n\t\twhile (offset < num.length && num[offset] == 0) {\n\t\t\toffset++;\n\t\t}\n\t\tthis.num = new Array(num.length - offset + shift);\n\t\tfor (var i = 0; i < num.length - offset; i++) {\n\t\t\tthis.num[i] = num[i + offset];\n\t\t}\n\t}\n\tQRPolynomial.prototype = {\n\t\tget: function (index) {\n\t\t\treturn this.num[index];\n\t\t},\n\t\tgetLength: function () {\n\t\t\treturn this.num.length;\n\t\t},\n\t\tmultiply: function (e) {\n\t\t\tvar num = new Array(this.getLength() + e.getLength() - 1);\n\t\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\t\tfor (var j = 0; j < e.getLength(); j++) {\n\t\t\t\t\tnum[i + j] ^= QRMath.gexp(\n\t\t\t\t\t\tQRMath.glog(this.get(i)) + QRMath.glog(e.get(j))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new QRPolynomial(num, 0);\n\t\t},\n\t\tmod: function (e) {\n\t\t\tif (this.getLength() - e.getLength() < 0) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tvar ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0));\n\t\t\tvar num = new Array(this.getLength());\n\t\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\t\tnum[i] = this.get(i);\n\t\t\t}\n\t\t\tfor (var i = 0; i < e.getLength(); i++) {\n\t\t\t\tnum[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio);\n\t\t\t}\n\t\t\treturn new QRPolynomial(num, 0).mod(e);\n\t\t},\n\t};\n\tfunction QRRSBlock(totalCount, dataCount) {\n\t\tthis.totalCount = totalCount;\n\t\tthis.dataCount = dataCount;\n\t}\n\tQRRSBlock.RS_BLOCK_TABLE = [\n\t\t[1, 26, 19],\n\t\t[1, 26, 16],\n\t\t[1, 26, 13],\n\t\t[1, 26, 9],\n\t\t[1, 44, 34],\n\t\t[1, 44, 28],\n\t\t[1, 44, 22],\n\t\t[1, 44, 16],\n\t\t[1, 70, 55],\n\t\t[1, 70, 44],\n\t\t[2, 35, 17],\n\t\t[2, 35, 13],\n\t\t[1, 100, 80],\n\t\t[2, 50, 32],\n\t\t[2, 50, 24],\n\t\t[4, 25, 9],\n\t\t[1, 134, 108],\n\t\t[2, 67, 43],\n\t\t[2, 33, 15, 2, 34, 16],\n\t\t[2, 33, 11, 2, 34, 12],\n\t\t[2, 86, 68],\n\t\t[4, 43, 27],\n\t\t[4, 43, 19],\n\t\t[4, 43, 15],\n\t\t[2, 98, 78],\n\t\t[4, 49, 31],\n\t\t[2, 32, 14, 4, 33, 15],\n\t\t[4, 39, 13, 1, 40, 14],\n\t\t[2, 121, 97],\n\t\t[2, 60, 38, 2, 61, 39],\n\t\t[4, 40, 18, 2, 41, 19],\n\t\t[4, 40, 14, 2, 41, 15],\n\t\t[2, 146, 116],\n\t\t[3, 58, 36, 2, 59, 37],\n\t\t[4, 36, 16, 4, 37, 17],\n\t\t[4, 36, 12, 4, 37, 13],\n\t\t[2, 86, 68, 2, 87, 69],\n\t\t[4, 69, 43, 1, 70, 44],\n\t\t[6, 43, 19, 2, 44, 20],\n\t\t[6, 43, 15, 2, 44, 16],\n\t\t[4, 101, 81],\n\t\t[1, 80, 50, 4, 81, 51],\n\t\t[4, 50, 22, 4, 51, 23],\n\t\t[3, 36, 12, 8, 37, 13],\n\t\t[2, 116, 92, 2, 117, 93],\n\t\t[6, 58, 36, 2, 59, 37],\n\t\t[4, 46, 20, 6, 47, 21],\n\t\t[7, 42, 14, 4, 43, 15],\n\t\t[4, 133, 107],\n\t\t[8, 59, 37, 1, 60, 38],\n\t\t[8, 44, 20, 4, 45, 21],\n\t\t[12, 33, 11, 4, 34, 12],\n\t\t[3, 145, 115, 1, 146, 116],\n\t\t[4, 64, 40, 5, 65, 41],\n\t\t[11, 36, 16, 5, 37, 17],\n\t\t[11, 36, 12, 5, 37, 13],\n\t\t[5, 109, 87, 1, 110, 88],\n\t\t[5, 65, 41, 5, 66, 42],\n\t\t[5, 54, 24, 7, 55, 25],\n\t\t[11, 36, 12],\n\t\t[5, 122, 98, 1, 123, 99],\n\t\t[7, 73, 45, 3, 74, 46],\n\t\t[15, 43, 19, 2, 44, 20],\n\t\t[3, 45, 15, 13, 46, 16],\n\t\t[1, 135, 107, 5, 136, 108],\n\t\t[10, 74, 46, 1, 75, 47],\n\t\t[1, 50, 22, 15, 51, 23],\n\t\t[2, 42, 14, 17, 43, 15],\n\t\t[5, 150, 120, 1, 151, 121],\n\t\t[9, 69, 43, 4, 70, 44],\n\t\t[17, 50, 22, 1, 51, 23],\n\t\t[2, 42, 14, 19, 43, 15],\n\t\t[3, 141, 113, 4, 142, 114],\n\t\t[3, 70, 44, 11, 71, 45],\n\t\t[17, 47, 21, 4, 48, 22],\n\t\t[9, 39, 13, 16, 40, 14],\n\t\t[3, 135, 107, 5, 136, 108],\n\t\t[3, 67, 41, 13, 68, 42],\n\t\t[15, 54, 24, 5, 55, 25],\n\t\t[15, 43, 15, 10, 44, 16],\n\t\t[4, 144, 116, 4, 145, 117],\n\t\t[17, 68, 42],\n\t\t[17, 50, 22, 6, 51, 23],\n\t\t[19, 46, 16, 6, 47, 17],\n\t\t[2, 139, 111, 7, 140, 112],\n\t\t[17, 74, 46],\n\t\t[7, 54, 24, 16, 55, 25],\n\t\t[34, 37, 13],\n\t\t[4, 151, 121, 5, 152, 122],\n\t\t[4, 75, 47, 14, 76, 48],\n\t\t[11, 54, 24, 14, 55, 25],\n\t\t[16, 45, 15, 14, 46, 16],\n\t\t[6, 147, 117, 4, 148, 118],\n\t\t[6, 73, 45, 14, 74, 46],\n\t\t[11, 54, 24, 16, 55, 25],\n\t\t[30, 46, 16, 2, 47, 17],\n\t\t[8, 132, 106, 4, 133, 107],\n\t\t[8, 75, 47, 13, 76, 48],\n\t\t[7, 54, 24, 22, 55, 25],\n\t\t[22, 45, 15, 13, 46, 16],\n\t\t[10, 142, 114, 2, 143, 115],\n\t\t[19, 74, 46, 4, 75, 47],\n\t\t[28, 50, 22, 6, 51, 23],\n\t\t[33, 46, 16, 4, 47, 17],\n\t\t[8, 152, 122, 4, 153, 123],\n\t\t[22, 73, 45, 3, 74, 46],\n\t\t[8, 53, 23, 26, 54, 24],\n\t\t[12, 45, 15, 28, 46, 16],\n\t\t[3, 147, 117, 10, 148, 118],\n\t\t[3, 73, 45, 23, 74, 46],\n\t\t[4, 54, 24, 31, 55, 25],\n\t\t[11, 45, 15, 31, 46, 16],\n\t\t[7, 146, 116, 7, 147, 117],\n\t\t[21, 73, 45, 7, 74, 46],\n\t\t[1, 53, 23, 37, 54, 24],\n\t\t[19, 45, 15, 26, 46, 16],\n\t\t[5, 145, 115, 10, 146, 116],\n\t\t[19, 75, 47, 10, 76, 48],\n\t\t[15, 54, 24, 25, 55, 25],\n\t\t[23, 45, 15, 25, 46, 16],\n\t\t[13, 145, 115, 3, 146, 116],\n\t\t[2, 74, 46, 29, 75, 47],\n\t\t[42, 54, 24, 1, 55, 25],\n\t\t[23, 45, 15, 28, 46, 16],\n\t\t[17, 145, 115],\n\t\t[10, 74, 46, 23, 75, 47],\n\t\t[10, 54, 24, 35, 55, 25],\n\t\t[19, 45, 15, 35, 46, 16],\n\t\t[17, 145, 115, 1, 146, 116],\n\t\t[14, 74, 46, 21, 75, 47],\n\t\t[29, 54, 24, 19, 55, 25],\n\t\t[11, 45, 15, 46, 46, 16],\n\t\t[13, 145, 115, 6, 146, 116],\n\t\t[14, 74, 46, 23, 75, 47],\n\t\t[44, 54, 24, 7, 55, 25],\n\t\t[59, 46, 16, 1, 47, 17],\n\t\t[12, 151, 121, 7, 152, 122],\n\t\t[12, 75, 47, 26, 76, 48],\n\t\t[39, 54, 24, 14, 55, 25],\n\t\t[22, 45, 15, 41, 46, 16],\n\t\t[6, 151, 121, 14, 152, 122],\n\t\t[6, 75, 47, 34, 76, 48],\n\t\t[46, 54, 24, 10, 55, 25],\n\t\t[2, 45, 15, 64, 46, 16],\n\t\t[17, 152, 122, 4, 153, 123],\n\t\t[29, 74, 46, 14, 75, 47],\n\t\t[49, 54, 24, 10, 55, 25],\n\t\t[24, 45, 15, 46, 46, 16],\n\t\t[4, 152, 122, 18, 153, 123],\n\t\t[13, 74, 46, 32, 75, 47],\n\t\t[48, 54, 24, 14, 55, 25],\n\t\t[42, 45, 15, 32, 46, 16],\n\t\t[20, 147, 117, 4, 148, 118],\n\t\t[40, 75, 47, 7, 76, 48],\n\t\t[43, 54, 24, 22, 55, 25],\n\t\t[10, 45, 15, 67, 46, 16],\n\t\t[19, 148, 118, 6, 149, 119],\n\t\t[18, 75, 47, 31, 76, 48],\n\t\t[34, 54, 24, 34, 55, 25],\n\t\t[20, 45, 15, 61, 46, 16],\n\t];\n\tQRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {\n\t\tvar rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\t\tif (rsBlock == undefined) {\n\t\t\tthrow new Error(\n\t\t\t\t\"bad rs block @ typeNumber:\" +\n\t\t\t\t\ttypeNumber +\n\t\t\t\t\t\"/errorCorrectLevel:\" +\n\t\t\t\t\terrorCorrectLevel\n\t\t\t);\n\t\t}\n\t\tvar length = rsBlock.length / 3;\n\t\tvar list = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tvar count = rsBlock[i * 3 + 0];\n\t\t\tvar totalCount = rsBlock[i * 3 + 1];\n\t\t\tvar dataCount = rsBlock[i * 3 + 2];\n\t\t\tfor (var j = 0; j < count; j++) {\n\t\t\t\tlist.push(new QRRSBlock(totalCount, dataCount));\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t};\n\tQRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {\n\t\tswitch (errorCorrectLevel) {\n\t\t\tcase QRErrorCorrectLevel.L:\n\t\t\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\t\t\tcase QRErrorCorrectLevel.M:\n\t\t\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\t\t\tcase QRErrorCorrectLevel.Q:\n\t\t\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\t\t\tcase QRErrorCorrectLevel.H:\n\t\t\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\t\t\tdefault:\n\t\t\t\treturn undefined;\n\t\t}\n\t};\n\tfunction QRBitBuffer() {\n\t\tthis.buffer = [];\n\t\tthis.length = 0;\n\t}\n\tQRBitBuffer.prototype = {\n\t\tget: function (index) {\n\t\t\tvar bufIndex = Math.floor(index / 8);\n\t\t\treturn ((this.buffer[bufIndex] >>> (7 - (index % 8))) & 1) == 1;\n\t\t},\n\t\tput: function (num, length) {\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tthis.putBit(((num >>> (length - i - 1)) & 1) == 1);\n\t\t\t}\n\t\t},\n\t\tgetLengthInBits: function () {\n\t\t\treturn this.length;\n\t\t},\n\t\tputBit: function (bit) {\n\t\t\tvar bufIndex = Math.floor(this.length / 8);\n\t\t\tif (this.buffer.length <= bufIndex) {\n\t\t\t\tthis.buffer.push(0);\n\t\t\t}\n\t\t\tif (bit) {\n\t\t\t\tthis.buffer[bufIndex] |= 0x80 >>> this.length % 8;\n\t\t\t}\n\t\t\tthis.length++;\n\t\t},\n\t};\n\tvar QRCodeLimitLength = [\n\t\t[17, 14, 11, 7],\n\t\t[32, 26, 20, 14],\n\t\t[53, 42, 32, 24],\n\t\t[78, 62, 46, 34],\n\t\t[106, 84, 60, 44],\n\t\t[134, 106, 74, 58],\n\t\t[154, 122, 86, 64],\n\t\t[192, 152, 108, 84],\n\t\t[230, 180, 130, 98],\n\t\t[271, 213, 151, 119],\n\t\t[321, 251, 177, 137],\n\t\t[367, 287, 203, 155],\n\t\t[425, 331, 241, 177],\n\t\t[458, 362, 258, 194],\n\t\t[520, 412, 292, 220],\n\t\t[586, 450, 322, 250],\n\t\t[644, 504, 364, 280],\n\t\t[718, 560, 394, 310],\n\t\t[792, 624, 442, 338],\n\t\t[858, 666, 482, 382],\n\t\t[929, 711, 509, 403],\n\t\t[1003, 779, 565, 439],\n\t\t[1091, 857, 611, 461],\n\t\t[1171, 911, 661, 511],\n\t\t[1273, 997, 715, 535],\n\t\t[1367, 1059, 751, 593],\n\t\t[1465, 1125, 805, 625],\n\t\t[1528, 1190, 868, 658],\n\t\t[1628, 1264, 908, 698],\n\t\t[1732, 1370, 982, 742],\n\t\t[1840, 1452, 1030, 790],\n\t\t[1952, 1538, 1112, 842],\n\t\t[2068, 1628, 1168, 898],\n\t\t[2188, 1722, 1228, 958],\n\t\t[2303, 1809, 1283, 983],\n\t\t[2431, 1911, 1351, 1051],\n\t\t[2563, 1989, 1423, 1093],\n\t\t[2699, 2099, 1499, 1139],\n\t\t[2809, 2213, 1579, 1219],\n\t\t[2953, 2331, 1663, 1273],\n\t];\n\n\tfunction _isSupportCanvas() {\n\t\treturn typeof CanvasRenderingContext2D != \"undefined\";\n\t}\n\n\t// android 2.x doesn't support Data-URI spec\n\tfunction _getAndroid() {\n\t\tvar android = false;\n\t\tvar sAgent = navigator.userAgent;\n\n\t\tif (/android/i.test(sAgent)) {\n\t\t\t// android\n\t\t\tandroid = true;\n\t\t\tvar aMat = sAgent.toString().match(/android ([0-9]\\.[0-9])/i);\n\n\t\t\tif (aMat && aMat[1]) {\n\t\t\t\tandroid = parseFloat(aMat[1]);\n\t\t\t}\n\t\t}\n\n\t\treturn android;\n\t}\n\n\tvar svgDrawer = (function () {\n\t\tvar Drawing = function (el, htOption) {\n\t\t\tthis._el = el;\n\t\t\tthis._htOption = htOption;\n\t\t};\n\n\t\tDrawing.prototype.draw = function (oQRCode) {\n\t\t\tvar _htOption = this._htOption;\n\t\t\tvar _el = this._el;\n\t\t\tvar nCount = oQRCode.getModuleCount();\n\t\t\tvar nWidth = Math.floor(_htOption.width / nCount);\n\t\t\tvar nHeight = Math.floor(_htOption.height / nCount);\n\n\t\t\tthis.clear();\n\n\t\t\tfunction makeSVG(tag, attrs) {\n\t\t\t\tvar el = document.createElementNS(\n\t\t\t\t\t\"http://www.w3.org/2000/svg\",\n\t\t\t\t\ttag\n\t\t\t\t);\n\t\t\t\tfor (var k in attrs)\n\t\t\t\t\tif (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k]);\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tvar svg = makeSVG(\"svg\", {\n\t\t\t\tviewBox: \"0 0 \" + String(nCount) + \" \" + String(nCount),\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tfill: _htOption.colorLight,\n\t\t\t});\n\t\t\tsvg.setAttributeNS(\n\t\t\t\t\"http://www.w3.org/2000/xmlns/\",\n\t\t\t\t\"xmlns:xlink\",\n\t\t\t\t\"http://www.w3.org/1999/xlink\"\n\t\t\t);\n\t\t\t_el.appendChild(svg);\n\n\t\t\tsvg.appendChild(\n\t\t\t\tmakeSVG(\"rect\", {\n\t\t\t\t\tfill: _htOption.colorLight,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t})\n\t\t\t);\n\t\t\tsvg.appendChild(\n\t\t\t\tmakeSVG(\"rect\", {\n\t\t\t\t\tfill: _htOption.colorDark,\n\t\t\t\t\twidth: \"1\",\n\t\t\t\t\theight: \"1\",\n\t\t\t\t\tid: \"template\",\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tfor (var row = 0; row < nCount; row++) {\n\t\t\t\tfor (var col = 0; col < nCount; col++) {\n\t\t\t\t\tif (oQRCode.isDark(row, col)) {\n\t\t\t\t\t\tvar child = makeSVG(\"use\", {\n\t\t\t\t\t\t\tx: String(col),\n\t\t\t\t\t\t\ty: String(row),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tchild.setAttributeNS(\n\t\t\t\t\t\t\t\"http://www.w3.org/1999/xlink\",\n\t\t\t\t\t\t\t\"href\",\n\t\t\t\t\t\t\t\"#template\"\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsvg.appendChild(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tDrawing.prototype.clear = function () {\n\t\t\twhile (this._el.hasChildNodes())\n\t\t\t\tthis._el.removeChild(this._el.lastChild);\n\t\t};\n\t\treturn Drawing;\n\t})();\n\n\tvar useSVG = document.documentElement.tagName.toLowerCase() === \"svg\";\n\n\t// Drawing in DOM by using Table tag\n\tvar Drawing = useSVG\n\t\t? svgDrawer\n\t\t: !_isSupportCanvas()\n\t\t? (function () {\n\t\t\t\tvar Drawing = function (el, htOption) {\n\t\t\t\t\tthis._el = el;\n\t\t\t\t\tthis._htOption = htOption;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Draw the QRCode\n\t\t\t\t *\n\t\t\t\t * @param {QRCode} oQRCode\n\t\t\t\t */\n\t\t\t\tDrawing.prototype.draw = function (oQRCode) {\n\t\t\t\t\tvar _htOption = this._htOption;\n\t\t\t\t\tvar _el = this._el;\n\t\t\t\t\tvar nCount = oQRCode.getModuleCount();\n\t\t\t\t\tvar nWidth = Math.floor(_htOption.width / nCount);\n\t\t\t\t\tvar nHeight = Math.floor(_htOption.height / nCount);\n\t\t\t\t\tvar aHTML = [\n\t\t\t\t\t\t'<table style=\"border:0;border-collapse:collapse;\">',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (var row = 0; row < nCount; row++) {\n\t\t\t\t\t\taHTML.push(\"<tr>\");\n\n\t\t\t\t\t\tfor (var col = 0; col < nCount; col++) {\n\t\t\t\t\t\t\taHTML.push(\n\t\t\t\t\t\t\t\t'<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:' +\n\t\t\t\t\t\t\t\t\tnWidth +\n\t\t\t\t\t\t\t\t\t\"px;height:\" +\n\t\t\t\t\t\t\t\t\tnHeight +\n\t\t\t\t\t\t\t\t\t\"px;background-color:\" +\n\t\t\t\t\t\t\t\t\t(oQRCode.isDark(row, col)\n\t\t\t\t\t\t\t\t\t\t? _htOption.colorDark\n\t\t\t\t\t\t\t\t\t\t: _htOption.colorLight) +\n\t\t\t\t\t\t\t\t\t';\"></td>'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taHTML.push(\"</tr>\");\n\t\t\t\t\t}\n\n\t\t\t\t\taHTML.push(\"</table>\");\n\t\t\t\t\t_el.innerHTML = aHTML.join(\"\");\n\n\t\t\t\t\t// Fix the margin values as real size.\n\t\t\t\t\tvar elTable = _el.childNodes[0];\n\t\t\t\t\tvar nLeftMarginTable =\n\t\t\t\t\t\t(_htOption.width - elTable.offsetWidth) / 2;\n\t\t\t\t\tvar nTopMarginTable =\n\t\t\t\t\t\t(_htOption.height - elTable.offsetHeight) / 2;\n\n\t\t\t\t\tif (nLeftMarginTable > 0 && nTopMarginTable > 0) {\n\t\t\t\t\t\telTable.style.margin =\n\t\t\t\t\t\t\tnTopMarginTable + \"px \" + nLeftMarginTable + \"px\";\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Clear the QRCode\n\t\t\t\t */\n\t\t\t\tDrawing.prototype.clear = function () {\n\t\t\t\t\tthis._el.innerHTML = \"\";\n\t\t\t\t};\n\n\t\t\t\treturn Drawing;\n\t\t  })()\n\t\t: (function () {\n\t\t\t\t// Drawing in Canvas\n\t\t\t\tfunction _onMakeImage() {\n\t\t\t\t\tthis._elImage.src = this._elCanvas.toDataURL(\"image/png\");\n\t\t\t\t\tthis._elImage.style.display = \"block\";\n\t\t\t\t\tthis._elCanvas.style.display = \"none\";\n\t\t\t\t}\n\n\t\t\t\t// Android 2.1 bug workaround\n\t\t\t\t// http://code.google.com/p/android/issues/detail?id=5141\n\t\t\t\tif (this._android && this._android <= 2.1) {\n\t\t\t\t\tvar factor = 1 / window.devicePixelRatio;\n\t\t\t\t\tvar drawImage =\n\t\t\t\t\t\tCanvasRenderingContext2D.prototype.drawImage;\n\t\t\t\t\tCanvasRenderingContext2D.prototype.drawImage = function (\n\t\t\t\t\t\timage,\n\t\t\t\t\t\tsx,\n\t\t\t\t\t\tsy,\n\t\t\t\t\t\tsw,\n\t\t\t\t\t\tsh,\n\t\t\t\t\t\tdx,\n\t\t\t\t\t\tdy,\n\t\t\t\t\t\tdw,\n\t\t\t\t\t\tdh\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\"nodeName\" in image &&\n\t\t\t\t\t\t\t/img/i.test(image.nodeName)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor (var i = arguments.length - 1; i >= 1; i--) {\n\t\t\t\t\t\t\t\targuments[i] = arguments[i] * factor;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (typeof dw == \"undefined\") {\n\t\t\t\t\t\t\targuments[1] *= factor;\n\t\t\t\t\t\t\targuments[2] *= factor;\n\t\t\t\t\t\t\targuments[3] *= factor;\n\t\t\t\t\t\t\targuments[4] *= factor;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdrawImage.apply(this, arguments);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Check whether the user's browser supports Data URI or not\n\t\t\t\t *\n\t\t\t\t * @private\n\t\t\t\t * @param {Function} fSuccess Occurs if it supports Data URI\n\t\t\t\t * @param {Function} fFail Occurs if it doesn't support Data URI\n\t\t\t\t */\n\t\t\t\tfunction _safeSetDataURI(fSuccess, fFail) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tself._fFail = fFail;\n\t\t\t\t\tself._fSuccess = fSuccess;\n\n\t\t\t\t\t// Check it just once\n\t\t\t\t\tif (self._bSupportDataURI === null) {\n\t\t\t\t\t\tvar el = document.createElement(\"img\");\n\t\t\t\t\t\tvar fOnError = function () {\n\t\t\t\t\t\t\tself._bSupportDataURI = false;\n\n\t\t\t\t\t\t\tif (self._fFail) {\n\t\t\t\t\t\t\t\tself._fFail.call(self);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar fOnSuccess = function () {\n\t\t\t\t\t\t\tself._bSupportDataURI = true;\n\n\t\t\t\t\t\t\tif (self._fSuccess) {\n\t\t\t\t\t\t\t\tself._fSuccess.call(self);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tel.onabort = fOnError;\n\t\t\t\t\t\tel.onerror = fOnError;\n\t\t\t\t\t\tel.onload = fOnSuccess;\n\t\t\t\t\t\tel.src =\n\t\t\t\t\t\t\t\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\"; // the Image contains 1px data.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tself._bSupportDataURI === true &&\n\t\t\t\t\t\tself._fSuccess\n\t\t\t\t\t) {\n\t\t\t\t\t\tself._fSuccess.call(self);\n\t\t\t\t\t} else if (self._bSupportDataURI === false && self._fFail) {\n\t\t\t\t\t\tself._fFail.call(self);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Drawing QRCode by using canvas\n\t\t\t\t *\n\t\t\t\t * @constructor\n\t\t\t\t * @param {HTMLElement} el\n\t\t\t\t * @param {Object} htOption QRCode Options\n\t\t\t\t */\n\t\t\t\tvar Drawing = function (el, htOption) {\n\t\t\t\t\tthis._bIsPainted = false;\n\t\t\t\t\tthis._android = _getAndroid();\n\n\t\t\t\t\tthis._htOption = htOption;\n\t\t\t\t\tthis._elCanvas = document.createElement(\"canvas\");\n\t\t\t\t\tthis._elCanvas.width = htOption.width;\n\t\t\t\t\tthis._elCanvas.height = htOption.height;\n\t\t\t\t\tel.appendChild(this._elCanvas);\n\t\t\t\t\tthis._el = el;\n\t\t\t\t\tthis._oContext = this._elCanvas.getContext(\"2d\");\n\t\t\t\t\tthis._bIsPainted = false;\n\t\t\t\t\tthis._elImage = document.createElement(\"img\");\n\t\t\t\t\tthis._elImage.alt = \"Scan me!\";\n\t\t\t\t\tthis._elImage.style.display = \"none\";\n\t\t\t\t\tthis._el.appendChild(this._elImage);\n\t\t\t\t\tthis._bSupportDataURI = null;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Draw the QRCode\n\t\t\t\t *\n\t\t\t\t * @param {QRCode} oQRCode\n\t\t\t\t */\n\t\t\t\tDrawing.prototype.draw = function (oQRCode) {\n\t\t\t\t\tvar _elImage = this._elImage;\n\t\t\t\t\tvar _oContext = this._oContext;\n\t\t\t\t\tvar _htOption = this._htOption;\n\n\t\t\t\t\tvar nCount = oQRCode.getModuleCount();\n\t\t\t\t\tvar nWidth = _htOption.width / nCount;\n\t\t\t\t\tvar nHeight = _htOption.height / nCount;\n\t\t\t\t\tvar nRoundedWidth = Math.round(nWidth);\n\t\t\t\t\tvar nRoundedHeight = Math.round(nHeight);\n\n\t\t\t\t\t_elImage.style.display = \"none\";\n\t\t\t\t\tthis.clear();\n\n\t\t\t\t\tfor (var row = 0; row < nCount; row++) {\n\t\t\t\t\t\tfor (var col = 0; col < nCount; col++) {\n\t\t\t\t\t\t\tvar bIsDark = oQRCode.isDark(row, col);\n\t\t\t\t\t\t\tvar nLeft = col * nWidth;\n\t\t\t\t\t\t\tvar nTop = row * nHeight;\n\t\t\t\t\t\t\t_oContext.strokeStyle = bIsDark\n\t\t\t\t\t\t\t\t? _htOption.colorDark\n\t\t\t\t\t\t\t\t: _htOption.colorLight;\n\t\t\t\t\t\t\t_oContext.lineWidth = 1;\n\t\t\t\t\t\t\t_oContext.fillStyle = bIsDark\n\t\t\t\t\t\t\t\t? _htOption.colorDark\n\t\t\t\t\t\t\t\t: _htOption.colorLight;\n\t\t\t\t\t\t\t_oContext.fillRect(nLeft, nTop, nWidth, nHeight);\n\n\t\t\t\t\t\t\t// 안티 앨리어싱 방지 처리\n\t\t\t\t\t\t\t_oContext.strokeRect(\n\t\t\t\t\t\t\t\tMath.floor(nLeft) + 0.5,\n\t\t\t\t\t\t\t\tMath.floor(nTop) + 0.5,\n\t\t\t\t\t\t\t\tnRoundedWidth,\n\t\t\t\t\t\t\t\tnRoundedHeight\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t_oContext.strokeRect(\n\t\t\t\t\t\t\t\tMath.ceil(nLeft) - 0.5,\n\t\t\t\t\t\t\t\tMath.ceil(nTop) - 0.5,\n\t\t\t\t\t\t\t\tnRoundedWidth,\n\t\t\t\t\t\t\t\tnRoundedHeight\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._bIsPainted = true;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Make the image from Canvas if the browser supports Data URI.\n\t\t\t\t */\n\t\t\t\tDrawing.prototype.makeImage = function () {\n\t\t\t\t\tif (this._bIsPainted) {\n\t\t\t\t\t\t_safeSetDataURI.call(this, _onMakeImage);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Return whether the QRCode is painted or not\n\t\t\t\t *\n\t\t\t\t * @return {Boolean}\n\t\t\t\t */\n\t\t\t\tDrawing.prototype.isPainted = function () {\n\t\t\t\t\treturn this._bIsPainted;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Clear the QRCode\n\t\t\t\t */\n\t\t\t\tDrawing.prototype.clear = function () {\n\t\t\t\t\tthis._oContext.clearRect(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tthis._elCanvas.width,\n\t\t\t\t\t\tthis._elCanvas.height\n\t\t\t\t\t);\n\t\t\t\t\tthis._bIsPainted = false;\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * @private\n\t\t\t\t * @param {Number} nNumber\n\t\t\t\t */\n\t\t\t\tDrawing.prototype.round = function (nNumber) {\n\t\t\t\t\tif (!nNumber) {\n\t\t\t\t\t\treturn nNumber;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Math.floor(nNumber * 1000) / 1000;\n\t\t\t\t};\n\n\t\t\t\treturn Drawing;\n\t\t  })();\n\n\t/**\n\t * Get the type by string length\n\t *\n\t * @private\n\t * @param {String} sText\n\t * @param {Number} nCorrectLevel\n\t * @return {Number} type\n\t */\n\tfunction _getTypeNumber(sText, nCorrectLevel) {\n\t\tvar nType = 1;\n\t\tvar length = _getUTF8Length(sText);\n\n\t\tfor (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n\t\t\tvar nLimit = 0;\n\n\t\t\tswitch (nCorrectLevel) {\n\t\t\t\tcase QRErrorCorrectLevel.L:\n\t\t\t\t\tnLimit = QRCodeLimitLength[i][0];\n\t\t\t\t\tbreak;\n\t\t\t\tcase QRErrorCorrectLevel.M:\n\t\t\t\t\tnLimit = QRCodeLimitLength[i][1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase QRErrorCorrectLevel.Q:\n\t\t\t\t\tnLimit = QRCodeLimitLength[i][2];\n\t\t\t\t\tbreak;\n\t\t\t\tcase QRErrorCorrectLevel.H:\n\t\t\t\t\tnLimit = QRCodeLimitLength[i][3];\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (length <= nLimit) {\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tnType++;\n\t\t\t}\n\t\t}\n\n\t\tif (nType > QRCodeLimitLength.length) {\n\t\t\tthrow new Error(\"Too long data\");\n\t\t}\n\n\t\treturn nType;\n\t}\n\n\tfunction _getUTF8Length(sText) {\n\t\tvar replacedText = encodeURI(sText)\n\t\t\t.toString()\n\t\t\t.replace(/\\%[0-9a-fA-F]{2}/g, \"a\");\n\t\treturn replacedText.length + (replacedText.length != sText ? 3 : 0);\n\t}\n\n\t/**\n\t * @class QRCode\n\t * @constructor\n\t * @example\n\t * new QRCode(document.getElementById(\"test\"), \"http://jindo.dev.naver.com/collie\");\n\t *\n\t * @example\n\t * var oQRCode = new QRCode(\"test\", {\n\t *    text : \"http://naver.com\",\n\t *    width : 128,\n\t *    height : 128\n\t * });\n\t *\n\t * oQRCode.clear(); // Clear the QRCode.\n\t * oQRCode.makeCode(\"http://map.naver.com\"); // Re-create the QRCode.\n\t *\n\t * @param {HTMLElement|String} el target element or 'id' attribute of element.\n\t * @param {Object|String} vOption\n\t * @param {String} vOption.text QRCode link data\n\t * @param {Number} [vOption.width=256]\n\t * @param {Number} [vOption.height=256]\n\t * @param {String} [vOption.colorDark=\"#000000\"]\n\t * @param {String} [vOption.colorLight=\"#ffffff\"]\n\t * @param {QRCode.CorrectLevel} [vOption.correctLevel=QRCode.CorrectLevel.H] [L|M|Q|H]\n\t */\n\tQRCode = function (el, vOption) {\n\t\tthis._htOption = {\n\t\t\twidth: 256,\n\t\t\theight: 256,\n\t\t\ttypeNumber: 4,\n\t\t\tcolorDark: \"#000000\",\n\t\t\tcolorLight: \"#ffffff\",\n\t\t\tcorrectLevel: QRErrorCorrectLevel.H,\n\t\t};\n\n\t\tif (typeof vOption === \"string\") {\n\t\t\tvOption = {\n\t\t\t\ttext: vOption,\n\t\t\t};\n\t\t}\n\n\t\t// Overwrites options\n\t\tif (vOption) {\n\t\t\tfor (var i in vOption) {\n\t\t\t\tthis._htOption[i] = vOption[i];\n\t\t\t}\n\t\t}\n\n\t\tif (typeof el == \"string\") {\n\t\t\tel = document.getElementById(el);\n\t\t}\n\n\t\tif (this._htOption.useSVG) {\n\t\t\tDrawing = svgDrawer;\n\t\t}\n\n\t\tthis._android = _getAndroid();\n\t\tthis._el = el;\n\t\tthis._oQRCode = null;\n\t\tthis._oDrawing = new Drawing(this._el, this._htOption);\n\n\t\tif (this._htOption.text) {\n\t\t\tthis.makeCode(this._htOption.text);\n\t\t}\n\t};\n\n\t/**\n\t * Make the QRCode\n\t *\n\t * @param {String} sText link data\n\t */\n\tQRCode.prototype.makeCode = function (sText) {\n\t\tthis._oQRCode = new QRCodeModel(\n\t\t\t_getTypeNumber(sText, this._htOption.correctLevel),\n\t\t\tthis._htOption.correctLevel\n\t\t);\n\t\tthis._oQRCode.addData(sText);\n\t\tthis._oQRCode.make();\n\t\tthis._el.title = sText;\n\t\tthis._oDrawing.draw(this._oQRCode);\n\t\tthis.makeImage();\n\t};\n\n\t/**\n\t * Make the Image from Canvas element\n\t * - It occurs automatically\n\t * - Android below 3 doesn't support Data-URI spec.\n\t *\n\t * @private\n\t */\n\tQRCode.prototype.makeImage = function () {\n\t\tif (\n\t\t\ttypeof this._oDrawing.makeImage == \"function\" &&\n\t\t\t(!this._android || this._android >= 3)\n\t\t) {\n\t\t\tthis._oDrawing.makeImage();\n\t\t}\n\t};\n\n\t/**\n\t * Clear the QRCode\n\t */\n\tQRCode.prototype.clear = function () {\n\t\tthis._oDrawing.clear();\n\t};\n\n\t/**\n\t * @name QRCode.CorrectLevel\n\t */\n\tQRCode.CorrectLevel = QRErrorCorrectLevel;\n})();"]},"metadata":{},"sourceType":"module"}